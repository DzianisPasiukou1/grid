window.AngularSlider=function(n,t,i){function b(n){k.cssText=n}function e(n,t){return typeof n===t}function d(){u.inputtypes=function(n){for(var f=0,u,e,o,h=n.length;f<h;f++)r.setAttribute("type",e=n[f]),u=r.type!=="text",u&&(r.value=y,r.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&r.style.WebkitAppearance!==i?(s.appendChild(r),o=t.defaultView,u=o.getComputedStyle&&o.getComputedStyle(r,null).WebkitAppearance!=="textfield"&&r.offsetHeight!==0,s.removeChild(r)):/^(search|tel)$/.test(e)||(u=/^(url|email)$/.test(e)?r.checkValidity&&r.checkValidity()===!1:r.value!=y)),p[n[f]]=!!u;return p}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},s=t.documentElement,v=t.createElement("modernizr"),k=v.style,r=t.createElement("input"),y=":)",g={}.toString,h={},p={},w=[],c=w.slice,f,l={}.hasOwnProperty,a,o;a=e(l,"undefined")||e(l.call,"undefined")?function(n,t){return t in n&&e(n.constructor.prototype[t],"undefined")}:function(n,t){return l.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=c.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(c.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(c.call(arguments)))},r});for(o in h)a(h,o)&&(f=o.toLowerCase(),u[f]=h[o](),w.push((u[f]?"":"no-")+f));return u.input||d(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)a(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t;typeof enableClasses!="undefined"&&enableClasses&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},b(""),v=r=null,u._version="2.7.1",u}(this,this.document),function(n,t,i){function h(n){return"[object Function]"==y.call(n)}function c(n){return"string"==typeof n}function l(){}function w(n){return!n||"loaded"==n||"complete"==n||"uninitialized"==n}function f(){var n=a.shift();v=1;n?n.t?s(function(){("c"==n.t?u.injectCss:u.injectJs)(n.s,0,n.a,n.x,n.e,1)},0):(n(),f()):v=0}function ut(n,i,o,h,c,l,y){function k(t){if(!nt&&w(p.readyState)&&(tt.r=nt=1,!v&&f(),p.onload=p.onreadystatechange=null,t)){"img"!=n&&s(function(){g.removeChild(p)},50);for(var u in r[i])r[i].hasOwnProperty(u)&&r[i][u].onload()}}var y=y||u.errorTimeout,p=t.createElement(n),nt=0,b=0,tt={t:o,s:i,e:c,a:l,x:y};1===r[i]&&(b=1,r[i]=[]);"object"==n?p.data=i:(p.src=i,p.type=n);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){k.call(this,b)};a.splice(h,0,tt);"img"!=n&&(b||2===r[i]?(g.insertBefore(p,d?null:e),s(k,y)):r[i].push(p))}function ft(n,t,i,r,u){return v=0,t=t||"j",c(n)?ut("c"==t?et:nt,n,t,this.i++,i,r,u):(a.splice(this.i++,0,n),1==a.length&&f()),this}function b(){var n=u;return n.loader={load:ft,i:0},n}var o=t.documentElement,s=n.setTimeout,e=t.getElementsByTagName("script")[0],y={}.toString,a=[],v=0,k="MozAppearance"in o.style,d=k&&!!t.createRange().compareNode,g=d?o:e.parentNode,o=n.opera&&"[object Opera]"==y.call(n.opera),o=!!t.attachEvent&&!o,nt=k?"object":o?"script":"img",et=o?"script":nt,tt=Array.isArray||function(n){return"[object Array]"==y.call(n)},p=[],r={},it={timeout:function(n,t){return t.length&&(n.timeout=t[0]),n}},rt,u;u=function(n){function a(n){for(var n=n.split("!"),f=p.length,i=n.pop(),e=n.length,i={url:i,origUrl:i,prefixes:n},u,r,t=0;t<e;t++)r=n[t].split("="),(u=it[r.shift()])&&(i=u(i,r));for(t=0;t<f;t++)i=p[t](i);return i}function f(n,t,u,f,e){var o=a(n),s=o.autoCallback;o.url.split(".").pop().split("?").shift();o.bypass||(t&&(t=h(t)?t:t[n]||t[f]||t[n.split("/").pop().split("?")[0]]),o.instead?o.instead(n,t,u,f,e):(r[o.url]?o.noexec=!0:r[o.url]=1,u.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":i,o.noexec,o.attrs,o.timeout),(h(t)||h(s))&&u.load(function(){b();t&&t(o.origUrl,e,f);s&&s(o.origUrl,e,f);r[o.url]=2})))}function s(n,t){function a(n,o){if(n){if(c(n))o||(i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}),f(n,i,t,0,e);else if(Object(n)===n)for(r in v=function(){var t=0;for(var i in n)n.hasOwnProperty(i)&&t++;return t}(),n)n.hasOwnProperty(r)&&(!o&&!--v&&(h(i)?i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}:i[r]=function(n){return function(){var t=[].slice.call(arguments);n&&n.apply(this,t);u()}}(s[r])),f(n[r],i,t,r,e))}else o||u()}var e=!!n.test,o=n.load||n.both,i=n.callback||l,s=i,u=n.complete||l,v,r;a(e?n.yep:n.nope,!!o);o&&a(o)}var e,t,o=this.yepnope.loader;if(c(n))f(n,0,o,0);else if(tt(n))for(e=0;e<n.length;e++)t=n[e],c(t)?f(t,0,o,0):tt(t)?u(t):Object(t)===t&&s(t,o);else Object(n)===n&&s(n,o)};u.addPrefix=function(n,t){it[n]=t};u.addFilter=function(n){p.push(n)};u.errorTimeout=1e4;null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",rt=function(){t.removeEventListener("DOMContentLoaded",rt,0);t.readyState="complete"},0));n.yepnope=b();n.yepnope.executeStack=f;n.yepnope.injectJs=function(n,i,r,o,h,c){var a=t.createElement("script"),v,y,o=o||u.errorTimeout;a.src=n;for(y in r)a.setAttribute(y,r[y]);i=c?f:i||l;a.onreadystatechange=a.onload=function(){!v&&w(a.readyState)&&(v=1,i(),a.onload=a.onreadystatechange=null)};s(function(){v||(v=1,i(1))},o);h?a.onload():e.parentNode.insertBefore(a,e)};n.yepnope.injectCss=function(n,i,r,u,o,h){var u=t.createElement("link"),c,i=h?f:i||l;u.href=n;u.rel="stylesheet";u.type="text/css";for(c in r)u.setAttribute(c,r[c]);o||(e.parentNode.insertBefore(u,e),s(i,0))}}(this,document);AngularSlider.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};angular.module("vr.directives.slider",["ngTouch"]).directive("slider",["$timeout","$document","$interpolate","$swipe",function(n,t,i,r){function o(n){return angular.element(n)}function p(n){return""+n+"px"}function w(n,t){return n.css({opacity:t})}function s(n){return w(n,0)}function h(n){return w(n,1)}function f(n,t){return n.css({left:t})}function a(n){var t=parseFloat(n.css("width"));return isNaN(t)?n[0].offsetWidth:t}function c(n){return a(n)/2}function e(n){try{return n.offset().left}catch(t){}return n[0].getBoundingClientRect().left}function y(n,t){return e(n)>e(t)?e(n)-e(t)-a(t):e(t)-e(n)-a(n)}function l(n,t){return n.attr("ng-bind-template",t)}function v(n,t,i,r,u){(angular.isUndefined(t)||!t)&&(t=0);(angular.isUndefined(i)||!i||i==0)&&(i=1/Math.pow(10,t));(angular.isUndefined(r)||!r)&&(r=0);(angular.isUndefined(n)||!n)&&(n=0);var e=(n-r)%i,f=e>i/2?n+i-e:n-e;return(angular.isUndefined(u)||!u)&&(u=f),f=Math.min(Math.max(f,r),u),parseFloat(f.toFixed(t))}function b(n,t){return Math.floor(n/t+.5)*t}function nt(n,t){return n>0&&!isNaN(t)?Math.ceil(t/n)*n:t}function u(n){return d+" "+n+" "+g}var k=3,d=i.startSymbol(),g=i.endSymbol();return{restrict:"EA",require:"ngModel",scope:{floor:"@",ceiling:"@",step:"@",stepWidth:"@",precision:"@",buffer:"@",stickiness:"@",showSteps:"@",ngModel:"=",ngModelRange:"=",ngDisabled:"=",ngChange:"&",translateFn:"&",translateRangeFn:"&",translateCombinedFn:"&",scaleFn:"&",inverseScaleFn:"&"},template:"<span class='bar full'><\/span><span class='bar steps'><span class='bubble step' ng-repeat='step in stepBubbles()'><\/span><\/span><span class='bar selection'><\/span><span class='bar unselected low'><\/span><span class='bar unselected high'><\/span><span class='pointer low'><\/span><span class='pointer high'><\/span><span class='bubble low'><\/span><span class='bubble high'><\/span><span class='bubble middle'><\/span><span class='bubble selection'><\/span><span class='bubble limit floor'><\/span><span class='bubble limit ceiling'><\/span><input type='range' class='input low' /><input type='range' class='input high' /><input type='range' class='input selection' />",compile:function(i,w){function ht(n){n||(n=i);var t=[];return angular.forEach(n.children(),function(n){t.push(o(n))}),t}function ct(n,t,i){return{fullBar:n[0],stepBubs:n[1],selBar:t?n[2]:null,unSelBarLow:t?n[3]:null,unSelBarHigh:t?n[4]:null,minPtr:t?n[5]:n[2],maxPtr:t?n[6]:null,lowBub:t?n[7]:n[3],highBub:t?n[8]:null,cmbBub:t?n[9]:null,selBub:t?n[10]:null,flrBub:t?n[11]:n[4],ceilBub:t?n[12]:n[5],minInput:i?t?n[13]:n[6]:null,maxInput:i?t?n[14]:null:null,selInput:i?t?n[15]:null:null}}var at=w.showSteps,it=w.stepWidth?"stepWidth":"step",rt=w.ngModelRange!=null,d={},g="ngModel",tt="ngModelRange",ft="selectBar",ut=["floor","ceiling","stickiness",g],et,st,ot,lt;if(d=function(){for(var n,i=ht(),r=[],t=0,u=i.length;t<u;t++)n=i[t],n=o(n),n.css({"white-space":"nowrap",position:"absolute",display:"block","z-index":1}),r.push(n);return r}(),d=ct(d,!0,!0),w.translateFn&&w.$set("translateFn",""+w.translateFn+"(value)"),w.translateRangeFn&&w.$set("translateRangeFnFn",""+w.translateRangeFn+"(low,high)"),w.translateCombinedFn&&w.$set("translateCombinedFnFn",""+w.translateCombinedFn+"(low,high)"),w.scaleFn&&w.$set("scaleFn",""+w.scaleFn+"(value)"),w.inverseScaleFn&&w.$set("inverseScaleFn",""+w.inverseScaleFn+"(value)"),d.fullBar.css({left:0,right:0}),AngularSlider.inputtypes.range?(et={position:"absolute",margin:0,padding:0,opacity:0,height:"100%"},d.minInput.attr("step",u("inputSteps()")),d.minInput.attr("min",u("floor")),d.minInput.css(et),d.minInput.css("left",0),rt?(d.minInput.attr("max",u("ngModelRange - (buffer / 2)")),d.maxInput.attr("step",u("inputSteps()")),d.maxInput.attr("min",u("ngModel + (buffer / 2)")),d.maxInput.attr("max",u("ceiling")),d.maxInput.css(et),d.selInput.attr("step",u("inputSteps()")),d.selInput.attr("min",u("ngModel")),d.selInput.attr("max",u("ngModelRange")),d.selInput.css(et)):(d.minInput.attr("max",u("ceiling")),d.minInput.css({width:"100%"}),d.maxInput.remove(),d.selInput.remove())):(d.minInput.remove(),d.maxInput.remove(),d.selInput.remove()),l(d.stepBubs.children().eq(0),u("translation(step)")),l(d.ceilBub,u("translation(ceiling)")),l(d.flrBub,u("translation(floor)")),l(d.selBub,u("rangeTranslation("+g+","+tt+")")),l(d.lowBub,u("translation("+g+")")),l(d.highBub,u("translation("+tt+")")),l(d.cmbBub,u("combinedTranslation("+g+","+tt+")")),rt)ut.push(tt),ut.unshift("buffer");else for(st=[d.selBar,d.unSelBarLow,d.unSelBarHigh,d.maxPtr,d.selBub,d.highBub,d.cmbBub],ot=0,lt=st.length;ot<lt;ot++)i=st[ot],i.remove();return ut.unshift("precision",it),at||d.stepBubs.children().remove(),{post:function(i,u,l,w){function ui(){var n,t,r;angular.forEach(ut,function(n){i[n]=parseFloat(i[n]);n==g||n==tt?i[n]=v(i[n],i.precision,i[it],i.floor,i.ceiling):n=="buffer"?i.buffer=!i.buffer||isNaN(i.buffer)||i.buffer<0?0:nt(i[it],i.buffer):n=="precision"?i.precision=!i.precision||isNaN(i.precision)?0:parseInt(i.precision):n==it?i[it]=!i[it]||isNaN(i[it])?1/Math.pow(10,i.precision):parseFloat(i[it].toFixed(i.precision)):n=="stickiness"&&(isNaN(i.stickiness)?i.stickiness=k:i.stickiness<1&&(i.stickiness=1));i.decodedValues[n]=i.decodeRef(n)});rt&&(i[tt]<i[g]&&(n=i[tt],i[tt]=i[g],i[g]=n),t=v(i[tt]-i[g],i.precision,i[it]),i.buffer>0&&t<i.buffer&&(r=i.encode((i.decodedValues[g]+i.decodedValues[tt])/2),i[g]=v(r-i.buffer/2,i.precision,i[it],i.floor,i.ceiling),i[tt]=i[g]+i.buffer,i[tt]>i.ceiling&&(i[tt]=i.ceiling,i[g]=i.ceiling-i.buffer)));dt=a(d.fullBar);vt=c(d.minPtr);ot=e(d.fullBar);gt=ot+dt-a(d.minPtr);wt=gt-ot;yt=i.floor;lt=i.decodedValues.floor;pt=i.ceiling;ni=i.decodedValues.ceiling;ti=pt-yt;at=ni-lt;ii=b(at,i.decodedValues[it])}function bt(){function nt(n){return(n-ot)/wt*100}function vi(n){return nt(n)/100*at+lt}function fi(n){return i.encode(vi(n))}function ei(n){var t=n-lt;return ti==at?t=b(t,i.decodedValues[it])/ii:t/=at,t*100}function l(n){return ei(i.decode(n))}function n(n){return p(n*wt/100)}function li(n){return Math.min(Math.max(n,ot),gt)}function ct(t){return f(t,n(nt(li(e(t)))))}function bt(n,t,r){var u=n>0?1:-1;return(t=t?t:100,r)?(Math.sin(Math.min(Math.abs(n/t),1)*Math.PI-Math.PI/2)+1)*u*t/6:u*Math.pow(Math.min(Math.abs(n/t*2),1),i.stickiness)*t/2}function oi(){var u=ei(i.decodedValues[g]),b=l(i[g]+i[it])-u,k=u-l(i[g]-i[it]),a=l(i[g]+i.buffer)-u,o=nt(vt+ot),t=u+bt(et,et>0?b:k);if(f(d.minPtr,n(t)),f(d.lowBub,n(nt(e(d.minPtr)-c(d.lowBub)+vt))),rt){var s=ei(i.decodedValues[tt]),ut=l(i[tt]+i[it])-s,ft=s-l(i[tt]-i[it]),v=s-l(i[tt]-i.buffer),r=s+bt(st,st>0?ut:ft);if(t>s-v&&(t=u+bt(et,a,!0),f(d.minPtr,n(t)),f(d.lowBub,n(nt(e(d.minPtr)-c(d.lowBub)+vt)))),r<u+a&&(r=s+bt(st,v,!0)),f(d.maxPtr,n(r)),f(d.highBub,n(nt(e(d.maxPtr)-c(d.highBub)+vt))),f(d.selBar,n(t+o)),d.selBar.css({width:n(r-t)}),f(d.selBub,n((t+r)/2-nt(c(d.selBub)+ot)+o)),f(d.cmbBub,n((t+r)/2-nt(c(d.cmbBub)+ot)+o)),d.unSelBarLow.css({left:0,width:n(t+o)}),f(d.unSelBarHigh,n(r+o)),d.unSelBarHigh.css({right:0}),AngularSlider.inputtypes.range){var h=o*2,y=t+a/2,ht=100-y;y+=h;var ct=r-v/2,p=t+h,w=r-t-h;r<=t+h&&(p=t,w=r+h-t);d.minInput.css({width:n(ct)});d.maxInput.css({left:n(y),width:n(ht)});d.selInput.css({left:n(p),width:n(w)})}}}function si(){var n=d.lowBub;ct(d.lowBub);rt&&(ct(d.highBub),ct(d.selBub),y(d.lowBub,d.highBub)<10?(s(d.lowBub),s(d.highBub),h(d.cmbBub),ct(d.cmbBub),n=d.cmbBub):(h(d.lowBub),h(d.highBub),s(d.cmbBub),n=d.highBub));y(d.flrBub,d.lowBub)<5?s(d.flrBub):rt?y(d.flrBub,n)<5?s(d.flrBub):h(d.flrBub):h(d.flrBub);y(d.lowBub,d.ceilBub)<5?s(d.ceilBub):rt?y(n,d.ceilBub)<5?s(d.ceilBub):h(d.ceilBub):h(d.ceilBub)}function kt(){et=0;st=0;ut&&(oi(),si(),ut.removeClass("active"));ut=null;k=null;ni=!1}function ht(n){ut&&i.$apply(function(){var s=n.clientX||n.x,r,f,h,a,o;if(ni)r=fi(s)-hi,f=fi(s)+ci,r<yt?(f+=yt-r,r=yt):f>pt&&(r-=f-pt,f=pt),h=l(r),a=l(f),et=h,st=a,i[g]=r=v(r,i.precision,i[it],i.floor,i.ceiling),i[tt]=f=v(f,i.precision,i[it],i.floor,i.ceiling),et=et-l(r),st=st-l(f);else{var p=li(s+ot-e(u)-c(ut)),y=nt(p),t=i.encode(lt+at*y/100);et=y;rt&&(i.buffer>0?k===g?t>i[tt]-i.buffer&&(t=i[tt]-i.buffer):t<i[g]+i.buffer&&(t=i[g]+i.buffer):k===g?t>i[tt]&&(i[g]=i[tt],i.decodedValues[g]=i.decodeRef(g),k=tt,o=d.minPtr,d.minPtr=d.maxPtr,d.maxPtr=o,d.maxPtr.removeClass("active").removeClass("high").addClass("low"),d.minPtr.addClass("active").removeClass("low").addClass("high")):t<i[g]&&(i[tt]=i[g],i.decodedValues[tt]=i.decodeRef(tt),k=g,o=d.minPtr,d.minPtr=d.maxPtr,d.maxPtr=o,d.minPtr.removeClass("active").removeClass("low").addClass("high"),d.maxPtr.addClass("active").removeClass("high").addClass("low")));i[k]=t=v(t,i.precision,i[it],i.floor,i.ceiling);i.decodedValues[k]=i.decodeRef(k);k===g?(et=et-l(t),st=0):(st=et-l(t),et=0)}i.ngChange&&i.ngChange();w.$setViewValue(i[g]);oi();si()})}function ai(n,t,r){var f,u;i.ngDisabled&&i.ngDisabled==!0||(f=n.clientX||n.x,ut=t,k=r,ut.addClass("active"),k==ft&&(ni=!0,u=fi(f),hi=u-i[g],ci=i[tt]-u),ht(n))}function pi(){if(AngularSlider.inputtypes.range){function i(n,t,i){function u(n){ai(n,t,i)}function f(n){ht(n);kt()}n=o(n);r.bind(n,{start:u,move:ht,end:f,cancel:kt})}i(d.minInput,d.minPtr,g);rt&&(i(d.maxInput,d.maxPtr,tt),i(d.selInput,d.selBar,ft))}else{function n(n,t,i){n=o(n);i=angular.isUndefined(i)?n:o(i);r.bind(n,{start:function(n){ai(n,i,t)}})}function u(n){n=o(n);r.bind(n,{move:ht,end:function(n){ht(n);kt()},cancel:kt})}u(t);n(d.minPtr,g);n(d.lowBub,g);n(d.flrBub,g,d.minPtr);rt?(n(d.maxPtr,tt),n(d.highBub,tt),n(d.ceilBub,tt,d.maxPtr),n(d.selBar,ft),n(d.selBub,ft,d.selBar),n(d.unSelBarLow,g,d.minPtr),n(d.unSelBarHigh,tt,d.maxPtr)):(n(d.ceilBub,g,d.minPtr),n(d.fullBar,g,d.minPtr))}}var ni,hi,ci,ut,k;ui();f(d.flrBub,0);f(d.ceilBub,p(dt-a(d.ceilBub)));oi();si();ri||(pi(),ri=!0)}var d=ct(ht(u),rt,AngularSlider.inputtypes.range),kt;i.decodedValues={floor:0,ceiling:0,step:0,stepWidth:0,precision:0,buffer:0,stickiness:0,ngModel:0,ngModelRange:0};i.translation=function(n){return(n=parseFloat(n).toFixed(i.precision),angular.isUndefined(l.translateFn))?""+n:i.translateFn({value:n})};i.rangeTranslation=function(n,t){return angular.isUndefined(l.translateRangeFn)?"Range: "+i.translation((t-n).toFixed(i.precision)):i.translateRangeFn({low:n,high:t})};i.combinedTranslation=function(n,t){return angular.isUndefined(l.translateCombinedFn)?i.translation(n)+" - "+i.translation(t):i.translateCombinedFn({low:n,high:t})};i.encode=function(n){return angular.isUndefined(l.scaleFn)||l.scaleFn==""?n:i.scaleFn({value:n})};i.decode=function(n){return angular.isUndefined(l.inverseScaleFn)||l.inverseScaleFn==""?n:i.inverseScaleFn({value:n})};(Math.round(i.encode(i.decode(1)))!=1||Math.round(i.encode(i.decode(100)))!=100)&&console.warn("The scale and inverseScale functions are not perfect inverses: 1 = "+i.encode(i.decode(1))+"  100 = "+i.encode(i.decode(100)));i.decodeRef=function(n){return i.decode(i[n])};i.inputSteps=function(){return Math.pow(10,i.precision*-1)};var dt=0,vt=0,ot=0,gt=0,wt=0,yt=0,lt=0,pt=0,ni=0,ti=0,at=0,ii=1,et=0,st=0,ri=!1;for(kt=0;kt<ut.length;kt++)i.$watch(ut[kt],function(){bt()});o(window).bind("resize",function(){bt()});i.$on("refreshSlider",function(){n(function(){bt()})});n(function(){bt()})}}}}}]);
//# sourceMappingURL=angular-slider.min.js.map
