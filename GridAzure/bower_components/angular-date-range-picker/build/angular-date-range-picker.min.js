(function(){angular.module("dateRangePicker",["pasvaz.bindonce"]);angular.module("dateRangePicker").directive("dateRangePicker",["$compile","$timeout",function(n,t){var i,r;return r='<div ng-show="visible" class="angular-date-range-picker__picker" ng-click="handlePickerClick($event)" ng-class="{\'angular-date-range-picker--ranged\': showRanged }">\n  <div class="angular-date-range-picker__timesheet">\n    <a ng-click="move(-1, $event)" class="angular-date-range-picker__prev-month">&#9664;<\/a>\n    <div bindonce ng-repeat="month in months" class="angular-date-range-picker__month">\n      <div class="angular-date-range-picker__month-name" bo-text="month.name"><\/div>\n      <table class="angular-date-range-picker__calendar">\n        <tr>\n          <th bindonce ng-repeat="day in month.weeks[1]" class="angular-date-range-picker__calendar-weekday" bo-text="day.date.format(\'dd\')">\n          <\/th>\n        <\/tr>\n        <tr bindonce ng-repeat="week in month.weeks">\n          <td\n              bo-class=\'{\n                "angular-date-range-picker__calendar-day": day,\n                "angular-date-range-picker__calendar-day-selected": day.selected,\n                "angular-date-range-picker__calendar-day-disabled": day.disabled,\n                "angular-date-range-picker__calendar-day-start": day.start\n              }\'\n              ng-repeat="day in week track by $index" ng-click="select(day, $event)">\n              <div class="angular-date-range-picker__calendar-day-wrapper" bo-text="day.date.date()"><\/div>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n    <a ng-click="move(+1, $event)" class="angular-date-range-picker__next-month">&#9654;<\/a>\n  <\/div>\n  <div class="angular-date-range-picker__panel">\n    <div ng-show="showRanged">\n      Select range: <select ng-click="prevent_select($event)" ng-model="quick" ng-options="e.range as e.label for e in quickList"><\/select>\n    <\/div>\n    <div class="angular-date-range-picker__buttons">\n      <a ng-click="ok($event)" class="angular-date-range-picker__apply">Apply<\/a>\n      <a ng-click="hide($event)" class="angular-date-range-picker__cancel">cancel<\/a>\n    <\/div>\n  <\/div>\n<\/div>',i="CUSTOM",{restrict:"AE",replace:!0,template:'<span tabindex="0" ng-keydown="hide()" class="angular-date-range-picker__input">\n  <span ng-if="showRanged">\n    <span ng-show="!!model">{{ model.start.format("ll") }} - {{ model.end.format("ll") }}<\/span>\n    <span ng-hide="!!model">Select date range<\/span>\n  <\/span>\n  <span ng-if="!showRanged">\n    <span ng-show="!!model">{{ model.format("ll") }}<\/span>\n    <span ng-hide="!!model">Select date<\/span>\n  <\/span>\n<\/span>',scope:{model:"=ngModel",customSelectOptions:"=",ranged:"=",pastDates:"@",callback:"&"},link:function(u,f){var h,c,o,l,s,e;return u.quickListDefinitions=u.customSelectOptions,u.quickListDefinitions==null&&(u.quickListDefinitions=[{label:"This week",range:moment().range(moment().startOf("week").startOf("day"),moment().endOf("week").startOf("day"))},{label:"Next week",range:moment().range(moment().startOf("week").add(1,"week").startOf("day"),moment().add(1,"week").endOf("week").startOf("day"))},{label:"This fortnight",range:moment().range(moment().startOf("week").startOf("day"),moment().add(1,"week").endOf("week").startOf("day"))},{label:"This month",range:moment().range(moment().startOf("month").startOf("day"),moment().endOf("month").startOf("day"))},{label:"Next month",range:moment().range(moment().startOf("month").add(1,"month").startOf("day"),moment().add(1,"month").endOf("month").startOf("day"))}]),u.quick=null,u.range=null,u.selecting=!1,u.visible=!1,u.start=null,u.showRanged=u.ranged===void 0?!0:u.ranged,s=function(n){var e,t,o,r,f;if(n==null&&(n=!1),u.showRanged){for(u.quickList=[],n&&u.quickList.push({label:"Custom",range:i}),r=u.quickListDefinitions,f=[],t=0,o=r.length;t<o;t++)e=r[t],f.push(u.quickList.push(e));return f}},o=function(){var t,n;return u.showRanged?u.range=u.selection?(n=u.selection.start.clone().startOf("month").startOf("day"),t=n.clone().add(2,"months").endOf("month").startOf("day"),moment().range(n,t)):moment().range(moment().startOf("month").subtract(1,"month").startOf("day"),moment().endOf("month").add(1,"month").startOf("day")):(u.selection=!1,u.selection=u.model||!1,u.date=moment(u.model)||moment(),u.range=moment().range(moment(u.date).startOf("month"),moment(u.date).endOf("month")))},l=function(){var n,t,f,r;if(u.showRanged&&u.selection){for(r=u.quickList,t=0,f=r.length;t<f;t++)if(n=r[t],n.range!==i&&u.selection.start.startOf("day").unix()===n.range.start.startOf("day").unix()&&u.selection.end.startOf("day").unix()===n.range.end.startOf("day").unix()){u.quick=n.range;s();return}return u.quick=i,s(!0)}},e=function(){var t,r,f,n,e,i;for(u.months=[],f=u.range.start.year()*12+u.range.start.month(),r=moment().startOf("week").day(),u.range.by("days",function(n){var t,o,i,e,s,h,c;return t=n.day()-r,t<0&&(t=7+t),i=n.year()*12+n.month()-f,s=parseInt((7+n.date()-t)/7),e=!1,o=!1,u.showRanged?u.start?(e=n===u.start,o=n<u.start):e=u.selection&&u.selection.contains(n):(e=n.isSame(u.selection),u.pastDates&&(o=moment().diff(n,"days")>0)),(h=u.months)[i]||(h[i]={name:n.format("MMMM YYYY"),weeks:[]}),(c=u.months[i].weeks)[s]||(c[s]=[]),u.months[i].weeks[s][t]={date:n,selected:e,disabled:o,start:u.start&&u.start.unix()===n.unix()}}),i=u.months,n=0,e=i.length;n<e;n++)t=i[n],t.weeks[0]||t.weeks.splice(0,1);return l()},u.show=function(){return u.selection=u.model,o(),e(),u.visible=!0},u.hide=function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.visible=!1,u.start=null},u.prevent_select=function(n){if(n!=null)return typeof n.stopPropagation=="function"?n.stopPropagation():void 0},u.ok=function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.model=u.selection,t(function(){if(u.callback)return u.callback()}),u.hide()},u.select=function(n,t){if(t!=null&&typeof t.stopPropagation=="function"&&t.stopPropagation(),!n.disabled)return u.showRanged?(u.selecting=!u.selecting,u.selecting?u.start=n.date:(u.selection=moment().range(u.start,n.date),u.start=null)):u.selection=moment(n.date),e()},u.move=function(n,t){return t!=null&&typeof t.stopPropagation=="function"&&t.stopPropagation(),u.showRanged?u.range=moment().range(u.range.start.add(n,"months").startOf("month").startOf("day"),u.range.start.clone().add(2,"months").endOf("month").startOf("day")):(u.date.add(n,"months"),u.range=moment().range(moment(u.date).startOf("month"),moment(u.date).endOf("month"))),e()},u.handlePickerClick=function(n){if(n!=null)return typeof n.stopPropagation=="function"?n.stopPropagation():void 0},u.$watch("quick",function(n){if(n&&n!==i)return u.selection=u.quick,u.selecting=!1,u.start=null,o(),e()}),u.$watch("customSelectOptions",function(n){if(typeof customSelectOptions!="undefined"&&customSelectOptions!==null)return u.quickListDefinitions=n}),c=n(angular.element(r))(u),f.append(c),f.bind("click",function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.$apply(function(){return u.visible?u.hide():u.show()})}),h=function(){return u.$apply(function(){return u.hide()}),!0},angular.element(document).bind("click",h),u.$on("$destroy",function(){return angular.element(document).unbind("click",h)}),s(),o(),e()}}}])}).call(this);
//# sourceMappingURL=angular-date-range-picker.min.js.map
