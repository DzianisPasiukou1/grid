function nFormatter(n,t){for(var r=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],i=0;i<r.length;i++)if(n>=r[i].value)return(n/r[i].value).toFixed(t).replace(/\.?0+$/,"")+r[i].symbol;return n}function columnGenerator(n,t){var i=[],r,u;if(i.push({field:"details",displayName:"",cellTemplate:t+"grid-templates/cell-templates/fields/details.html",headerCellTemplate:t+"grid-templates/cell-templates/cell.html",sortable:!1,width:60,minWidth:60,isColumn:!0}),n[0]){for(r=0;r<n.length;r++)if(n[r].isColumn)return;for(u in n[0])i.push({field:u,displayName:u,headerCellTemplate:t+"grid-templates/cell-templates/cell.html",isColumn:!0})}return i.push({field:"action",displayName:"",cellTemplate:t+"grid-templates/cell-templates/fields/action.html",headerCellTemplate:t+"grid-templates/cell-templates/cell.html",sortable:!1,width:300,minWidth:150,isColumn:!0}),i}function columnsCompare(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(n[i].field!=t[i].field)return!1;return!0}function convertFilterOptions(n){for(var i={filterText:""},t=0;t<n.length;t++)n[t].filter&&(i.filterText+=n[t].label+":"+n[t].filter+";");return i}function getWindowWidth(){var n=0;return typeof innerWidth=="number"?n=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?n=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(n=document.body.clientWidth),n}function getWindowHeight(){var n=0;return typeof innerHeight=="number"?n=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?n=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(n=document.body.clientHeight),n}function ngGridActionsPlugin(n,t){var i=this;i.grid=null;i.scope=null;i.opts=n;i.compile=t;i.init=function(n,t,r){var o,f;i.domUtilityService=r.DomUtilityService;i.grid=t;i.scope=n;o=function(){setTimeout(function(){i.grid.rowCache.forEach(function(n){n&&(n.actions=angular.copy(i.opts),n.actions.isCheck=!1,n.actions.setToggle=c,n.actions.setCheck=a,n.actions.copyRow=v,n.actions.deleteRow=y,n.actions.editRow=p,n.actions.historyRow=w,n.actions.history=[],n.actions.tab=2,n.actions.select=function(n){n.elm.addClass("selected");i.grid.rowCache.forEach(function(n){n.actions.isSelect&&(n.actions.isSelect=!1)});this.isSelect=!0},n.actions.values.options.callback===undefined&&(n.actions.values.options.callback=function(t){t.isEdit?n.actions.editRow(n):t.isCopy?n.actions.copyRow(n):t.isDelete?n.actions.deleteRow(n.entity,i.scope.data,n):t.isHistory&&n.actions.historyRow(n)}))});i.opts.contentOptions.checks.options.callback===undefined&&(i.opts.contentOptions.checks.options.callback=function(n){n&&(n.isAll?i.grid.rowCache.forEach(function(n){n.actions.isCheck=!0}):n.isNoOne?i.grid.rowCache.forEach(function(n){n.actions.isCheck=!1}):n.isMarked?i.grid.rowCache.forEach(function(){}):n.isNotMarked&&i.grid.rowCache.forEach(function(n){n.actions.isCheck=!n.actions.isCheck}))});i.scope.$apply()});i.scope.toggleRow&&(h(i.scope.toggleRow.clone,i.scope.detailsClass,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex),i.scope.rowHeight,!0),i.scope.toggleRow=undefined);setTimeout(f,1)};f=function(){if(i.scope.toggleRow){var n=!1;for(idx in i.scope.renderedRows)i.scope.renderedRows[idx].orig.actions&&(i.scope.renderedRows[idx].orig.actions.isToggle?(i.scope.renderedRows[idx].elm.hasClass("toggle")||e(i.scope.renderedRows[idx],i.scope.rowHeight,i.scope.step,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex)),n=!0):i.scope.renderedRows[idx].elm.removeClass("toggle"));n?i.grid.$canvas.css("height",i.scope.newCanvasHeight+"px"):(angular.element(".details-template").parent().removeClass("toggle"),angular.element(".details-template").remove())}i.scope.catHashKeys=function(){var t="";for(var n in i.scope.renderedRows)t+=i.scope.renderedRows[n].$$hashKey,i.scope.renderedRows[n].orig.actions&&(i.scope.renderedRows[n].orig.actions.isSelect?(i.scope.renderedRows[n].elm.addClass("selected"),i.scope.renderedRows[n].orig.actions.values.isShow=!0):(i.scope.renderedRows[n].elm.removeClass("selected"),i.scope.renderedRows[n].orig.actions.values.isShow=!1));return t}};i.grid.$viewport.scroll(function(){var n=!1;for(idx in i.scope.renderedRows)i.scope.renderedRows[idx].orig.actions.isToggle?(i.scope.renderedRows[idx].elm.hasClass("toggle")||(idx!=i.scope.renderedRows.length-1,e(i.scope.renderedRows[idx],i.scope.rowHeight,i.scope.step,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex))),n=!0):i.scope.renderedRows[idx].elm.removeClass("toggle");n?i.grid.$canvas.css("height",i.scope.newCanvasHeight+"px"):(angular.element(".details-template").parent().removeClass("toggle"),angular.element(".details-template").remove())});var c=function(n,t,r){var e,f;if(t){if(i.scope.toggleRow){for(f=0;f<i.grid.rowCache.length;f++)if(angular.equals(i.grid.rowCache[f],i.scope.toggleRow)){e=i.grid.rowCache[f];break}s(e,i.scope.detailsClass,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex),i.scope.rowHeight)}i.scope.toggleRow=n;i.scope.detailsClass=r;l(n.clone,i.scope.detailsClass,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex),i.scope.rowHeight)}else h(n.clone,r,u(i.scope.toggleRow.actions.detailsTemplate,i.scope.toggleRow.actions.detailsCondition,i.scope.toggleRow.entity,i.scope.toggleRow.rowIndex),i.scope.rowHeight),i.scope.toggleRow=undefined},e=function(n,t,r,u){var r,e,s,o,f;if(u)if(r=r,u.substr(u.length-4)=="html")$.get(u,function(n){angular.element(".details-template").remove();e=angular.element(n)}).fail(function(){angular.element(".details-template").remove();e=angular.element(u)}).always(function(){var o,f,u;for(n.elm.append(e),i.compile(e)(i.scope),angular.element(".details-template").css("top",t+"px"),n.elm.addClass("toggle"),o=Math.round(n.elm.position().top),f=angular.element(n.elm).parent().children(),u=0;u<f.length;u++)parseInt(angular.element(f[u]).css("top").replace("px",""))>o&&(angular.element(f[u]).css("top",r+"px"),r+=t)});else for(angular.element(".details-template").remove(),e=angular.element(u),n.elm.append(e),i.compile(e)(i.scope),angular.element(".details-template").css("top",t+"px"),n.elm.addClass("toggle"),s=Math.round(n.elm.position().top),o=angular.element(n.elm).parent().children(),f=0;f<o.length;f++)parseInt(angular.element(o[f]).css("top").replace("px",""))>s&&(angular.element(o[f]).css("top",r+"px"),r+=t);else{n.elm.addClass("toggle");angular.element(n.elm).css("height",n.elm.context.scrollHeight+"px");var s=Math.round(n.elm.position().top),o=angular.element(n.elm).parent().children(),r=r;for(f=0;f<o.length;f++)parseInt(angular.element(o[f]).css("top").replace("px",""))>s&&(angular.element(o[f]).css("top",r+"px"),r+=t)}},l=function(n,t,r,u){var e,h,f;if(n.elm.addClass(t),n.isToggle=!0,r)if(r.substr(r.length-4)=="html")$.get(r,function(n){angular.element(".details-template").remove();e=angular.element(n)}).fail(function(){angular.element(".details-template").remove();e=angular.element(r)}).always(function(){var t,f;n.elm.append(e);i.compile(e)(i.scope);angular.element(".details-template").css("top",n.elm.height()+"px");var s=Math.round(n.elm.position().top),r=angular.element(n.elm).parent().children(),o=n.elm.position().top+n.elm.find(".details-template").height()+u;for(i.scope.step=o,i.canvasHeight=i.grid.$canvas.height(),i.grid.$canvas.css("height",i.canvasHeight+n.elm.context.scrollHeight+"px"),i.scope.newCanvasHeight=i.canvasHeight+n.elm.context.scrollHeight,angular.element(n.elm).css("height",n.elm.context.scrollHeight+"px"),t=0;t<r.length;t++)if(angular.element(r[t]).css("top").replace("px","")==n.elm.position().top)for(f=t+1;f<r.length;f++)angular.element(r[f]).css("top",o+"px"),o+=u});else{angular.element(".details-template").remove();e=angular.element(r);n.elm.append(e);i.compile(e)(i.scope);angular.element(".details-template").css("top",n.elm.height()+"px");var c=Math.round(n.elm.position().top),o=angular.element(n.elm).parent().children(),s=n.elm.position().top+n.elm.find(".details-template").height()+u;for(i.scope.step=s,i.canvasHeight=i.grid.$canvas.height(),i.grid.$canvas.css("height",i.canvasHeight+n.elm.context.scrollHeight+"px"),i.scope.newCanvasHeight=i.canvasHeight+n.elm.context.scrollHeight,angular.element(n.elm).css("height",n.elm.context.scrollHeight+"px"),f=0;f<o.length;f++)if(angular.element(o[f]).css("top").replace("px","")==n.elm.position().top)for(h=f+1;h<o.length;h++)angular.element(o[h]).css("top",s+"px"),s+=u}else{var c=Math.round(n.elm.position().top),o=angular.element(n.elm).parent().children(),s=n.elm.position().top+n.elm.context.scrollHeight;for(i.scope.step=s,i.canvasHeight=i.grid.$canvas.height(),i.grid.$canvas.css("height",i.canvasHeight+n.elm.context.scrollHeight+"px"),i.scope.newCanvasHeight=i.canvasHeight+n.elm.context.scrollHeight,angular.element(n.elm).css("height",n.elm.context.scrollHeight+"px"),f=0;f<o.length;f++)parseInt(angular.element(o[f]).css("top").replace("px",""))>c&&(angular.element(o[f]).css("top",s+"px"),s+=u);i.scope.toggleElm=n.elm.clone()}},s=function(n,t,r,u,f){var e;u===undefined&&(u=60);n.clone.elm.removeClass("toggle");angular.element(".details-template").remove();n.actions.isToggle=!1;i.grid.$canvas.css("height",i.canvasHeight+"px");i.scope.newCanvasHeight=i.canvasHeight;var h=Math.round(n.clone.elm.position().top),o=angular.element(n.clone.elm).parent().children(),s=n.clone.elm.position().top+u;for(angular.element(n.clone.elm).css("height",u+"px"),e=0;e<o.length;e++)parseInt(angular.element(o[e]).css("top").replace("px",""))>h&&(angular.element(o[e]).css("top",s+"px"),s+=u);f&&(i.scope.toggleRow=undefined)},h=function(n,t,r,u,f){var e;n.elm.removeClass("toggle");angular.element(".details-template").remove();n.orig.actions.isToggle=!1;i.grid.$canvas.css("height",i.canvasHeight+"px");i.scope.newCanvasHeight=i.canvasHeight;var h=Math.round(n.elm.position().top),o=angular.element(n.elm).parent().children(),s=n.elm.position().top+u;for(angular.element(n.elm).css("height",u+"px"),e=0;e<o.length;e++)parseInt(angular.element(o[e]).css("top").replace("px",""))>h&&(angular.element(o[e]).css("top",s+"px"),s+=u);f&&(i.scope.toggleRow=undefined)},a=function(n){n.actions.onCheck(i.grid.rowCache)},u=function(n,t,i,r){return t!==undefined&&t(i,r)!==undefined&&(n=t(i,r)),n},v=function(n){var i=JSON.stringify(n.entity),t;if(window.clipboardData&&clipboardData.setData)clipboardData.setData("text",i),$.cursorMessage&&$.cursorMessage("Row is copied to clipboard.");else{angular.element(n.clone.elm).append('<input id="holdtext" style="display: none"/>');t=angular.element("#holdtext");t.val(i);t.select();try{document.execCommand("copy");$.cursorMessage&&$.cursorMessage("Row is copied to clipboard.")}catch(r){$.cursorMessage&&$.cursorMessage("Copied ended with error.",{backgroundColor:"rgb(143, 59, 59)"})}finally{t.remove("#holdtext")}}},y=function(n,t){for(var u,r=0;r<i.grid.rowCache.length;r++)if(i.grid.rowCache[r].entity==n){i.grid.rowCache.splice(r,1);break}for(u=!1,r=0;r<i.scope.renderedRows.length;r++){if(i.scope.renderedRows[r].entity==n){i.scope.renderedRows.splice(r,1);break}i.scope.toggleRow&&i.scope.renderedRows[r].entity==i.scope.toggleRow.entity&&(u=!0)}i.grid.setRenderedRows(i.scope.renderedRows);t.splice(t.indexOf(n),1);i.scope.toggleRow&&(i.scope.toggleRow.entity==n?s(i.scope.toggleRow,"toggle",i.scope.toggleRow.actions.detailsTemplate,i.scope.rowHeight,!0):u||(i.scope.step-=60,e(i.scope.toggleRow.clone,i.scope.rowHeight,i.scope.step,i.scope.toggleRow.actions.detailsTemplate)))},p=function(n){angular.element("div[modal]").length!=0&&angular.element("div[modal]").remove();i.scope.rowEditing=n;angular.element("body").append('<div modal value="rowEditing" enable-save="true" body-template-url="'+templatesPath+'directive-templates/edit-entity.html"><\/modal>');var t=angular.element("div[modal]");i.compile(t)(i.scope)},w=function(n){angular.element("div[modal]").length!=0&&angular.element("div[modal]").remove();i.scope.rowHistoried=n;angular.element("body").append('<div modal value="rowHistoried.actions.history"  body-template-url="'+templatesPath+'directive-templates/history.html"><\/history>');var t=angular.element("div[modal]");i.compile(t)(i.scope)};i.scope.$watch("catHashKeys()",f);i.scope.$watch(i.grid.config.data,o)};i.refreshOpt=function(n){i.opts=n};i.refreshCallback=function(){i.opts.contentOptions.checks.options.callback=function(n){n&&(n.isAll?i.grid.rowCache.forEach(function(n){n.actions.isCheck=!0}):n.isNoOne?i.grid.rowCache.forEach(function(n){n.actions.isCheck=!1}):n.isMarked?i.grid.rowCache.forEach(function(){}):n.isNotMarked&&i.grid.rowCache.forEach(function(n){n.actions.isCheck=!n.actions.isCheck}))}}}function ngGridCsvExportPlugin(n){var t=this;t.grid=null;t.scope=null;t.init=function(i,r){function u(){function c(n){return n==null?"":typeof n=="number"?""+n:typeof n=="boolean"?n?"TRUE":"FALSE":typeof n=="string"?n.replace(/"/g,'""'):JSON.stringify(n).replace(/"/g,'""')}function l(n){var t=n.substr(0,n.length-1);return t+"\n"}var t=[],h,i,u,e,o,a,v,s,f;for(h in r.config.columnDefs)t.push(r.config.columnDefs[h].field);i="";for(u in t)i+='"'+c(t[u])+'",';i=l(i);e=r.data;for(o in e){for(u in t)a=n!=null&&n.columnOverrides!=null&&n.columnOverrides[t[u]]!=null?n.columnOverrides[t[u]](e[o][t[u]]):e[o][t[u]],i+='"'+c(a)+'",';i=l(i)}v=r.$root.find(".ngFooterPanel");s=r.$root.find(".ngFooterPanel .csv-data-link-span");s!=null&&s.remove();f='<span class="csv-data-link-span">';f+='<br><a href="data:text/csv;charset=UTF-8,';f+=encodeURIComponent(i);f+='" download="Export.csv">CSV Export<\/a><\/br><\/span>';v.append(f)}t.grid=r;t.scope=i;setTimeout(u,0);i.catHashKeys=function(){var n="";for(var t in i.renderedRows)n+=i.renderedRows[t].$$hashKey;return n};i.$watch("catHashKeys()",u)}}function ngGridFlexibleHeightPlugin(n){var t=this;t.grid=null;t.scope=null;t.init=function(i,r,u){t.domUtilityService=u.DomUtilityService;t.grid=r;t.scope=i;var e=function(){setTimeout(f,1)},f=function(){var f=t.grid.gridId,e="."+f+" .ngFooterPanel",r=t.grid.$topPanel.height()+angular.element(e).height(),u,i;console.log("extra="+r);u=t.grid.$canvas.height()+1;n!=null&&n.minHeight!=null&&u+r<n.minHeight&&(u=n.minHeight-r-2);i=u+2;t.scope.baseViewportHeight&&t.scope.baseViewportHeight===i||(t.grid.$viewport.css("height",i+"px"),console.log("resetting height to "+(i+r)),t.grid.$root.css("height",i+r+"px"),t.scope.baseViewportHeight=i,t.domUtilityService.UpdateGridLayout(t.scope,t.grid));t.grid.$root.css("height","600px")};t.scope.catHashKeys=function(){var n="";for(var i in t.scope.renderedRows)n+=t.scope.renderedRows[i].$$hashKey;return n};t.scope.$watch("catHashKeys()",f);t.scope.$watch(t.grid.config.data,e)}}var directiveName,templatesPath;angular.module("gridTaskApp",["ngGrid","ui.grid","ui.grid.selection","ui.grid.expandable","ui.select2","pascalprecht.translate"]).value("templatesPath","/src/app/templates/");templatesPath="/src/app/templates/";angular.module("gridTaskApp").constant("CONTENT",{checks:{options:{actions:{all:{label:"All",isAll:!0},noOne:{label:"No one",isNoOne:!0},marked:{label:"Marked",isMarked:!0},notMarked:{label:"Not marked",isNotMarked:!0}}}},mores:{options:{label:"More",values:[{label:"View reports"}],isMenu:!0}},exports:{options:{label:"Export to: ",values:[{label:"Excel",isExcel:!0},{label:"Pdf",isPdf:!0}],callback:function(){}}},views:{options:{label:"View: ",values:[{label:"Ng Grid",isGrid:!0,isTiles:!1},{label:"Tiles",isGrid:!1,isTiles:!0},{label:"UI Grid",isUiGrid:!0}],callback:function(){}}},listSelector:".page-content__list",loadingTemplate:'<loading ng-show="contentOptions.isLoading"><\/loading>',gridName:"Default grid",ngGridOpt:{data:"data",multiSelect:!1,rowTemplate:templatesPath+"grid-templates/row-templates/row-with-detalis.html",filterOptions:{filterText:""},rowHeight:60,headerRowHeight:40,showFooter:!0,footerRowHeight:30,footerTemplate:templatesPath+"grid-templates/grid-footer.html",detailsTemplate:templatesPath+"grid-templates/details-templates/details.html",rowActions:{options:{label:"Actions",values:[{label:"Edit",isEdit:!0,priority:4},{label:"Copy",isCopy:!0,priority:3},{label:"History",isHistory:!0,priority:2},{label:"Delete",isDelete:!0,priority:1}],isMenu:!0},isShow:!1},rowCheckAction:function(n){var t=n.filter(function(n){if(n.actions.isCheck)return!0});this.contentOptions.checks.options.selected=t.length==0?this.contentOptions.checks.options.actions.noOne:t.length==n.length?this.contentOptions.checks.options.actions.all:this.contentOptions.checks.options.actions.marked}},uiGridOpt:{data:"data",rowHeight:60,showGridFooter:!0,enableColumnMenus:!1,enableRowSelection:!0,enableGridMenu:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,enableExpandable:!0,enableRowHeaderSelection:!1,expandableRowTemplate:templatesPath+"grid-templates/details-templates/details.html",expandableRowHeight:220,selectionRowHeaderWidth:35,enableExpandableRowHeader:!1,enableFiltering:!0,rowTemplate:templatesPath+"ui-grid-templates/row.html",expandableRowScope:{subGridVariable:"subGridScopeVariable"},gridFooterTemplate:'<div class="grid-footer"><\/div>',headerTemplate:templatesPath+"ui-grid-templates/header.html",headerCellTemplate:templatesPath+"ui-grid-templates/cell-templates/header.html",reInit:!0,enableDetails:!0,detailsCellTemplate:templatesPath+"ui-grid-templates/cell-templates/details.html",detailsWidth:60,detailsMinWidth:60,enableAction:!0,actionsCellTemplate:templatesPath+"ui-grid-templates/cell-templates/action.html",actionsWidth:250,actionsMinWidth:115,columnMinWidth:80,cellClass:function(n,t){return t.isChecked?"checked":t.isExpanded?"expanded":void 0},enableColumnFilter:!1},cardsOptions:{cards:{views:{label:"Total Touchpoints",count:191e4,graphs:[{style:{"background-color":"rgb(10, 124, 130)",height:"30px"}},{style:{"background-color":"rgb(165, 25, 215)",height:"50px"}},{style:{"background-color":"rgb(165, 200, 208)",height:"60px"}},{style:{"background-color":"rgb(30, 201, 135)",height:"25px"}},{style:{"background-color":"rgb(57, 124, 100)",height:"30px"}}]},conversion:{label:"Reached Goal",count:2010,graphs:[{style:{"background-color":"rgb(233, 44, 130)",height:"20px"}},{style:{"background-color":"rgb(165, 189, 300)",height:"30px"}},{style:{"background-color":"rgb(1, 215, 208)",height:"45px"}},{style:{"background-color":"rgb(251, 201, 54)",height:"34px"}},{style:{"background-color":"rgb(57, 33, 130)",height:"60px"}}]},spend:{label:"Potential Reach",count:2150,graphs:[{style:{"background-color":"rgb(10, 124, 130)",height:"10px"}},{style:{"background-color":"rgb(165, 189, 55)",height:"5px"}},{style:{"background-color":"rgb(165, 231, 208)",height:"50px"}},{style:{"background-color":"rgb(251, 201, 29)",height:"30px"}},{style:{"background-color":"rgb(57, 124, 1)",height:"34px"}}]}},startDate:new Date((new Date).setDate((new Date).getDate()-1)),endDate:new Date,dateRange:Math.abs((new Date).getTime()-new Date((new Date).setDate((new Date).getDate()-1)).getTime()),margin:270},filterOptions:function(n){var i=[],t;if(Array.isArray(n)&&n[0])for(t in n[0])t!="$$hashKey"&&i.push({label:t,isColumn:!0});return i},searchOptions:function(n){var t=[],i;if(t.push({label:"everywhere",isEverywhere:!0}),Array.isArray(n)&&n[0])for(i in n[0])i!="$$hashKey"&&t.push({label:i,isColumn:!0});return t},eventType:{options:{actions:[{label:"Simple event"},{label:"Medium event"}],selected:{label:"Simple event"}},selectOpt:{}},segments:{options:{actions:[{label:"People"},{label:"Trees"},{label:"Nodes"},{label:"Graphs"},{label:"Credentials"}]},selectOpt:{inheritClass:!0,includeSelectAllOption:!0}},campaign:{options:{actions:[{label:"AIX"},{label:"UI Campaign"},{label:"Design"},{label:"Modes"},{label:"KJ Entertainment"}]},selectOpt:{inheritClass:!0,includeSelectAllOption:!0}},sankeyFilters:{dateRange:{start:moment(new Date((new Date).setDate((new Date).getDate()-7))),end:moment(new Date)}},sankeyPath:"data/sankey/my-graphs.json",debugCard:{id:"debug",text:"Debug",templateUrl:templatesPath+"directive-templates/debug.html"},datepickerOptions:{config:{singleMonth:!0,showShortcuts:!1,showTopbar:!1}}});angular.module("gridTaskApp").constant("DATA",{count:100,startDate:new Date(2e3,1,1)});angular.module("gridTaskApp").constant("HISTOGRAM",{data:[{name:"1",value:1e5},{name:"2",value:15e4},{name:"3",value:17e4},{name:"4",value:3e5},{name:"5",value:35e4},{name:"6",value:4e5},{name:"7",value:5e5},{name:"8",value:55e4},{name:"9",value:6e5},{name:"10",value:7e5}]});angular.module("gridTaskApp").constant("LOADING",{parentSelector:".page-content__body"});angular.module("gridTaskApp").constant("MENU",{parentSelector:".page-content",parentMinWidth:500});angular.module("gridTaskApp").constant("OVERLAY",{overlaySelector:".custom-overlay",heighterSelector:"#chart[max-heighter]",alignTopSelector:".page-content__cards",toggleMinWidth:30});angular.module("gridTaskApp").constant("SANKEY",{data:{links:[{source:"View video",target:"Log in",value:"1"},{source:"View video",target:"Add to Cart",value:"1.5"},{source:"Ad Imression",target:"Log in",value:"1"},{source:"Ad Imression",target:"Ad Click",value:"1"},{source:"Ad Click",target:"Log in",value:".75"},{source:"Log in",target:"Purchase Complete",value:"1"},{source:"Add to Cart",target:"Purchase Complete",value:"1"},{source:"Add to Cart",target:"Carting",value:1},{source:"Carting",target:"Init",value:.5},{source:"Carting",target:"Log out",value:.5},{source:"Log out",target:"Log in",value:1},{source:"Log in",target:"Information",value:1},{source:"Information",target:"Examination",value:1}],nodes:[{name:"View video",color:"rgb(62,145,95)",transform:"0,0",mx:"0",my:"0",val:"50",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Log in",color:"rgb(133,133,133)",transform:"445,0",mx:"445",my:"0",val:"65",mouseover:{type:{isMedium:"true"},header:"Event: Log In",data:{topSegments:["Moms_2014","Affiluent_buyers","Auto-Inteders","Star Wars","Female 25 -34"],topCampaings:["C1_Dx_1","F2_DX_2","Gofundme DX3","Test campaign","Random Campaign"]}}},{name:"Ad Imression",color:"rgb(211,46,53)",transform:"0,415.55555555555554",mx:"0",my:"415.55555555555554",val:"15",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Ad Click",color:"rgb(20,0,254)",transform:"699,567.7777777777778",mx:"699",my:"567.7777777777778",val:"20",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Add to Cart",color:"rgb(157,226,141)",transform:"827,333.18181818181824",mx:"827",my:"333.18181818181824",val:"30",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Purchase Complete",color:"rgb(20,58,173)",transform:"1118,405.55555555555554",mx:"1118",my:"405.55555555555554",val:"12",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Carting",color:"rgb(123,20,56)",transform:"1172,3.6327926195491926",mx:"1172",my:"3.6327926195491926",val:"55",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Init",color:"rgb(0,23,76)",transform:"1390,82.6327926195492",mx:"1390",my:"82.6327926195492",val:"65",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Log out",color:"rgb(78,66,12)",transform:"756,0",mx:"756",my:"0",val:"23",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Information",color:"rgb(66,66,66)",transform:"1060,162.6327926195492",mx:"1060",my:"162.6327926195492",val:"33",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}},{name:"Examination",color:"rgb(12,51,128)",transform:"1455,390.63279261954915",mx:"1455",my:"390.63279261954915",val:"76",mouseover:{type:{isSimple:"true"},header:"Video: ID: 124856",data:[{campaignId:"657H836",adId:"904743"},{campaignId:"657H836",adId:"904743"}]}}]}});directiveName="anyOtherClick";angular.module("gridTaskApp").directive("anyOtherClick",["$parse","anyOtherClickFactory",function(n,t){return{restrict:"A",link:function(i,r,u){var e,f;e=n(u[directiveName]);f=function(n){var t=r[0]!==n.target&&0===r.find(n.target).length;t&&i.$apply(function(){e(i,{})})};t._register(f);i.$on("$destroy",function(){t._destroy(f)})}}}]);angular.module("gridTaskApp").controller("cardsCtrl",["$scope","cardsFactory",function(n,t){t.register(n.cardsOptions.cards,n.contentOptions.datepickerOptions.startDate,n.contentOptions.datepickerOptions.endDate,n.cardsOptions.margin,n.contentOptions);angular.extend(n,t.getInstance());n.refresh=function(i){t.refresh(i);angular.extend(n,t.getInstance())};n.enableDebugging=function(n){t.enableDebugging(n)};n.flipAll=function(){t.flipAll()};n.clear=function(){t.clear()}}]);angular.module("gridTaskApp").directive("cards",["templatesPath","$timeout",function(n,t){return{restrict:"EA",templateUrl:n+"directive-templates/cards.html",scope:{cardsOptions:"=cards",contentOptions:"="},controller:"cardsCtrl",link:function(n,i){n.contentOptions.enableDebugging&&(n.$on("debugFlip",function(){i.find("#"+n.contentOptions.debugCard.id).flip()}),t(function(){n.enableDebugging(!0)}));n.$watch("cardsOptions.cards",function(r){n.refresh(r);n.$on("cardFlip",function(n,t){i.find("#"+t).flip()});t(function(){n.flipAll()})});n.$on("$destroy",function(){n.clear()})}}}]);angular.module("gridTaskApp").controller("chartSegmentCtrl",["$scope",function(n){n.panel={header:{text:"Selected Users"},btn:{text:"Create Segment"}};n.deleteUser=function(t,i){n.selectedUsers.splice(i,1)}}]);angular.module("gridTaskApp").directive("chartSegment",["templatesPath",function(n){return{retstrict:"EA",scope:{selectedUsers:"="},replace:!0,controller:"chartSegmentCtrl",templateUrl:n+"directive-templates/chart-segment.html"}}]);angular.module("gridTaskApp").controller("checkboxSelectCtrl",["$scope",function(n){n.options.selected===undefined&&(n.options.selected={});n.options.callback&&n.$on("checkboxSelect",function(t,i){n.options.callback(i)});n.$watch("options.selected",function(n){n&&(n.check=n.isAll?!0:!1)});n.toggle=function(){n.isShow=!n.isShow};n.turnOff=function(){n.isShow=!1};n.select=function(t){n.turnOff();n.options.selected=t;n.$emit("checkboxSelect",t)};n.checked=function(t){n.turnOff();n.options.selected=t?n.options.actions.all:n.options.actions.noOne;n.$emit("checkboxSelect",n.options.selected)}}]);angular.module("gridTaskApp").directive("checkboxSelect",["templatesPath",function(n){return{restrict:"EA",scope:{options:"=checkboxSelect"},replace:!0,templateUrl:n+"directive-templates/checkbox-select.html",controller:"checkboxSelectCtrl",link:function(){}}}]);angular.module("gridTaskApp").controller("coreDiagramCtrl",["chartFactory","$scope","$parse",function(n,t,i){t.chart=n.getChart(t.data,t.opt);t.mouseOverInit=function(n){t.type=i("mouseover.type")(n);t.value={header:i("mouseover.header")(n),data:i("mouseover.data")(n)}}}]);angular.module("gridTaskApp").directive("coreDiagram",["templatesPath","$compile",function(n,t){return{restrict:"EA",templateUrl:n+"directive-templates/core-diagram.html",controller:"coreDiagramCtrl",scope:{opt:"=coreDiagram",data:"=sankeyData"},link:function(n,i){n.$watch("data",function(t){t&&(n.chart.clearHtml(i.find("#chart")),n.chart.refreshData(t),n.chart.fullRenderSankey())});n.$on("mouseover",function(r,u){n.mouseOverInit(u);angular.element("mouse-over").remove();n.parentTop=i.offset().top;i.append("<mouse-over type='type' parent-top='parentTop' value='value'><\/mouse-over>");t(angular.element("mouse-over"))(n)});n.$on("mouseout",function(){angular.element("mouse-over").remove()});n.$on("drag",function(t,i,r){d3.select(r).attr("transform","translate("+(i.x=Math.max(0,Math.min(n.chart.width-i.dx,d3.event.x)))+","+(i.y=Math.max(0,Math.min(n.chart.height-i.dy,d3.event.y)))+")");n.chart.sankey.relayout();n.chart.link.attr("d",n.chart.path)});n.$on("$destroy",function(){n.chart.destroy()})}}}]);angular.module("gridTaskApp").controller("customDatepickerCtrl",["$scope","$element",function(n,t){n.dateBtnSelector=".date-btn__toggle";n.toggle=function(){n.isShow=!n.isShow;n.isShow?t.find(n.dateBtnSelector).data("dateRangePicker").open():angular.element(n.dateBtnSelector).data("dateRangePicker").close()};n.close=function(){n.isShow=!1;t.find(n.dateBtnSelector).data("dateRangePicker").close()}}]);angular.module("gridTaskApp").directive("customDatepicker",["templatesPath",function(n){return{restrict:"EA",templateUrl:n+"directive-templates/custom-datepicker.html",scope:{opt:"=customDatepicker"},controller:"customDatepickerCtrl",link:function(n,t){t.find(n.dateBtnSelector).dateRangePicker(n.opt.config).bind("datepicker-change",function(t,i){n.opt.startDate=i.date1;n.opt.endDate=i.date2;n.opt.dateRange=Math.abs(n.opt.endDate.getTime()-n.opt.startDate.getTime());n.$apply()}).bind("datepicker-close",function(){n.isShow=!1;n.$root.$$phase!="$apply"&&n.$root.$$phase!="$digest"&&n.$apply()})}}}]);angular.module("gridTaskApp").controller("customGridCtrl",["$scope","templatesPath",function(){}]);angular.module("gridTaskApp").directive("customGrid",["templatesPath",function(n){return{restrict:"EA",controller:"customGridCtrl",scope:{data:"=gridData",exportTo:"=",options:"=gridOptions"},require:["?^gridData","?^gridOptions"],templateUrl:n+"directive-templates/custom-grid.html",link:function(){}}}]),function(){"use strict";function n(n){var t=this;t.menu=n;t.menu.register(t.columns,t.options)}angular.module("gridTaskApp").controller("gridMenuCtrl",n);n.$inject=["menuUtils"]}(),function(){"use strict";function n(n,t){function i(n,i,r,u){n.$watch("columns",function(n){Array.isArray(n)&&n.length>0&&(u.menu.refreshColumns(n),u.isShow=u.menu.getIsMenu(),u.menu.toggleColumns(angular.element(t).width()))});u.isShow=u.menu.getIsMenu();var f=function(){e(angular.element(t).width())},e=angular.bind(u.menu,u.menu.toggleColumns);angular.element(t).resize(f);n.$on("$destroy",function(){u.menu.destroy();angular.element(t).off("resize",f)})}return{restrict:"EA",templateUrl:n+"directive-templates/grid-menu.html",controller:"gridMenuCtrl",controllerAs:"gridMenuCtrl",scope:{columns:"=",options:"="},link:i,bindToController:!0}}angular.module("gridTaskApp").directive("gridMenu",n);n.$inject=["templatesPath","$window","menuUtils"]}();angular.module("gridTaskApp").directive("rowCheck",[function(){return{restrict:"EAC",scope:{value:"=rowCheck"},link:function(n,t){n.$watch("value.orig.actions.isCheck",function(n){n?t.parent().addClass("checked"):t.parent().removeClass("checked")})}}}]);angular.module("gridTaskApp").controller("customUiGridCtrl",["$scope","templatesPath","$compile","$rootScope",function(n,t,i,r){n.options.onRegisterApi=function(t){n.gridApi=t;t.core.on.rowsRendered(n,function(){n.gridApi.grid.rows.forEach(function(t){n.options.enableAction?(t.actions=angular.copy(n.options.rowActions),t.actions.static=new Row(t,r,i),t.actions.history=[],t.actions.options.callback=function(i){i.isEdit?t.actions.static.edit():i.isCopy?t.actions.static.copy():i.isDelete?t.actions.static.delete(n.data):i.isHistory&&t.actions.static.history()}):t.actions={};n.options.enableDetails&&(t.actions.tab=2,t.actions.expand=function(){n.gridApi.expandable.toggleRowExpansion(t.entity)},t.actions.disableCheck=n.options.disableCheck);n.contentOptions.checks&&(t.actions.setCheck=function(){var t=n.gridApi.grid.rows,i=t.filter(function(n){if(n.isCheck)return!0});n.contentOptions.checks.options.selected=i.length==0?n.contentOptions.checks.options.actions.noOne:i.length==t.length?n.contentOptions.checks.options.actions.all:n.contentOptions.checks.options.actions.marked;n.gridApi.grid.refresh()})})});n.gridApi.grid.registerRowsProcessor(n.singleFilter,200);n.options.enableDetails&&t.expandable.on.rowExpandedStateChanged(n,function(t){t.isExpanded&&n.gridApi.grid.rows.forEach(function(n){n.isExpanded&&t.entity!=n.entity&&n.actions.expand()})});n.contentOptions.checks&&(n.contentOptions.checks.options.callback=function(t){t&&(t.isAll?n.gridApi.grid.rows.forEach(function(n){n.isCheck=!0}):t.isNoOne?n.gridApi.grid.rows.forEach(function(n){n.isCheck=!1}):t.isMarked?n.gridApi.grid.rows.forEach(function(){}):t.isNotMarked&&n.gridApi.grid.rows.forEach(function(n){n.isCheck=!n.isCheck}))})};n.singleFilter=function(t){var i=n.options.filterOptions.filterText.split(";"),u,r;if(i.length==1&&i[0].indexOf(":")==-1)u=new RegExp(n.options.filterOptions.filterText),t.forEach(function(t){var i=!1;n.options.columnDefs.forEach(function(n){t.entity[n.field]!==undefined&&t.entity[n.field].toString().match(u)&&(i=!0)});i||(t.visible=!1)});else for(r=0;r<i.length;r++){if(i[r]=="")break;var f=i[r].substr(0,i[r].indexOf(":")),e=i[r].substr(i[r].indexOf(":")+1),u=new RegExp(e);t.forEach(function(t){var i=!1;n.options.columnDefs.forEach(function(){t.entity[f]!==undefined&&t.entity[f].toString().match(u)&&(i=!0)});i||(t.visible=!1)})}return t};n.rowChangedClass=function(n){return n};n.$watch("options.filterOptions.filterText",function(){n.gridApi.grid.refresh()});n.$watch("data",function(t){var i,r,u;if(n.options.reInit){if(i=[],n.options.enableDetails&&i.push({field:"details",displayName:"",headerCellTemplate:n.options.headerCellTemplate,cellTemplate:n.options.detailsCellTemplate,enableSorting:!1,width:n.options.detailsWidth,minWidth:n.options.detailsMinWidth,enableFiltering:n.options.enableColumnFilter,cellClass:n.options.cellClass}),t[0]){for(r=0;r<t.length;r++)if(t[r].isColumn)return;for(u in t[0])u!="$$hashKey"&&i.push({field:u,displayName:u,enableFiltering:n.options.enableColumnFilter,minWidth:n.options.columnMinWidth,cellClass:n.options.cellClass})}n.options.enableAction&&i.push({field:"action",displayName:"",cellTemplate:n.options.actionsCellTemplate,headerCellTemplate:n.options.headerCellTemplate,enableSorting:!1,width:n.options.actionsWidth,minWidth:n.options.actionsMinWidth,enableFiltering:n.options.enableColumnFilter,cellClass:n.options.cellClass});n.options.columnDefs=i}})}]);angular.module("gridTaskApp").directive("customUiGrid",["templatesPath",function(n){return{restrict:"EA",scope:{data:"=gridData",options:"=gridOptions",contentOptions:"="},controller:"customUiGridCtrl",require:["?^gridData","?^gridOptions"],templateUrl:n+"directive-templates/custom-ui-grid.html",link:function(){}}}]);angular.module("gridTaskApp").controller("uiGridMenuCtrl",["$scope","MENU","uiGridGridMenuService","$window",function(n,t,i,r){n.options.menu===undefined&&(n.options.menu={});n.options.menu.parentSelector===undefined&&(n.parentSelector=t.parentSelector);n.options.menu.parentMinWidth===undefined&&(n.parentMinWidth=t.parentMinWidth);n.options.showResponsMenu&&(n.options.enableGridMenu=!0);n.getTotalWidth=function(){return n.gridApi.grid.columns.reduce(function(n,t){return t.visible?n+t.minWidth:n},0)};n.changeMinWidth=function(t){angular.element("body")[0].scrollWidth<t?angular.element(n.parentSelector).css("minWidth",t+"px"):angular.element(n.parentSelector).css("minWidth",n.parentMinWidth+"px")};n.resize=function(t){var u;if(angular.element("body")[0].scrollWidth<t){for(u=n.gridApi.grid.columns.length-2;u>1;u--)if(n.gridApi.grid.columns[u].visible&&(i.toggleColumnVisibility(n.gridApi.grid.columns[u]),t-=n.gridApi.grid.columns[u].minWidth),angular.element(r).width()>t)break}else for(u=0;u<n.gridApi.grid.columns.length;u++)if(!n.gridApi.grid.columns[u].visible){if(angular.element(r).width()<t+n.gridApi.grid.columns[u].minWidth)break;i.toggleColumnVisibility(n.gridApi.grid.columns[u]);t+=n.gridApi.grid.columns[u].minWidth}}}]);angular.module("gridTaskApp").directive("uiGridCustomMenu",["$timeout","$window",function(n,t){return{restrict:"EA",controller:"uiGridMenuCtrl",link:function(i){var r={};r.scope=i;n(function(){var e,u,n,f;for(this.scope.gridApi.core.on.columnVisibilityChanged(this.scope,function(){var n=i.getTotalWidth();i.changeMinWidth(n)}.bind(this)),e=i.getTotalWidth(),i.resize(e),u=!0,n=0;n<this.scope.gridApi.grid.columns.length;n++)this.scope.gridApi.grid.columns[n].visible||(u=!1);u||r.scope.options.enableGridMenu||(r.scope.options.enableGridMenu=!0);f=function(){var u=i.getTotalWidth(),t,n;if(i.resize(u),!r.scope.options.showResponsMenu){for(t=!0,n=0;n<this.scope.gridApi.grid.columns.length;n++)this.scope.gridApi.grid.columns[n].visible||(t=!1);r.scope.options.enableGridMenu=t?!1:!0}}.bind(this);angular.element(t).resize(f);i.$on("$destroy",function(){angular.element(t).off("resize",f)})}.bind(r))}}}]);angular.module("gridTaskApp").directive("details",["$compile","$timeout",function(){return{restict:"A",scope:{row:"=",detailsClass:"="},link:function(n,t){t.click(function(){n.row.orig.actions.isToggle=!n.row.orig.actions.isToggle;n.row.orig.actions.setToggle(n.row.orig,n.row.orig.actions.isToggle,n.detailsClass)})}}}]);angular.module("gridTaskApp").controller("dropdownCtrl",["$scope",function(n){n.options===undefined&&(n.options={});n.options.isMenu?n.options.selected={}:(n.options.selected=n.options.values[0],n.options.callback&&n.options.callback(n.options.selected));n.select=function(t){n.options.selected=t;n.options.callback&&n.options.callback(t);n.isShow=!1}}]);angular.module("gridTaskApp").directive("dropdown",["templatesPath",function(n){return{restrict:"EA",scope:{options:"=dropdown"},controller:"dropdownCtrl",templateUrl:n+"directive-templates/dropdown.html",link:function(){}}}]);angular.module("gridTaskApp").directive("dynamicDropdown",["templatesPath","$compile","$timeout","$window",function(n,t,i,r){return{restrict:"EA",scope:{origOpt:"=",dropdownOpt:"=",col:"=",row:"=",reInit:"=",toResize:"="},templateUrl:n+"grid-templates/dynamic-actions.html",link:function(n,t){var f=function(){for(var i=0;i<n.dynamicOpt.values.length;i++)if(!n.dynamicOpt.values[i].isVisible)if(n.totalWidth+=n.dynamicOpt.values[i].width,n.totalWidth+n.offset.left>angular.element("body").prop("scrollWidth")){n.totalWidth-=n.dynamicOpt.values[i].width;break}else n.dynamicOpt.values[i].toggleVisible(!0);if(n.$apply(),n.dropdownOpt.isVisible)for(n.dropdownOpt.width===undefined&&(n.dropdownOpt.width=t.parent().find("div[dropdown]").width()),n.totalWidth+=n.dropdownOpt.width,i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible?n.dropdownOpt.values.splice(n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i]),1):n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i])==-1&&n.dropdownOpt.values.push(n.dynamicOpt.values[i]);else n.totalWidth-=n.dropdownOpt.width;if(n.totalWidth+n.offset.left>angular.element("body").prop("scrollWidth")){for(i=n.dynamicOpt.values.length-1;i>-1;i--)if(n.dynamicOpt.values[i].isVisible&&(n.dynamicOpt.values[i].toggleVisible(!1),n.totalWidth-=n.dynamicOpt.values[i].width,n.totalWidth+n.offset.left<angular.element("body").prop("scrollWidth")))break;for(i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible?n.dropdownOpt.values.splice(n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i]),1):n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i])==-1&&n.dropdownOpt.values.push(n.dynamicOpt.values[i])}},e=function(){for(var i=n.dynamicOpt.values.length-1;i>-1;i--)if(n.dynamicOpt.values[i].isVisible&&(n.dynamicOpt.values[i].toggleVisible(!1),n.totalWidth-=n.dynamicOpt.values[i].width,n.totalWidth+n.offset.left<angular.element("body").prop("scrollWidth")))break;if(n.$apply(),n.dropdownOpt.isVisible)for(n.dropdownOpt.width===undefined&&(n.dropdownOpt.width=t.parent().find("div[dropdown]").width()),n.totalWidth+=n.dropdownOpt.width,i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible?n.dropdownOpt.values.splice(n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i]),1):n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i])==-1&&n.dropdownOpt.values.push(n.dynamicOpt.values[i]);else n.totalWidth-=n.dropdownOpt.width;if(n.totalWidth+n.offset.left>angular.element("body").prop("scrollWidth")){for(i=n.dynamicOpt.values.length-1;i>-1;i--)if(n.dynamicOpt.values[i].isVisible&&(n.dynamicOpt.values[i].toggleVisible(!1),n.totalWidth-=n.dynamicOpt.values[i].width,n.totalWidth+n.offset.left<angular.element("body").prop("scrollWidth")))break;for(i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible?n.dropdownOpt.values.splice(n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i]),1):n.dropdownOpt.values.indexOf(n.dynamicOpt.values[i])==-1&&n.dropdownOpt.values.push(n.dynamicOpt.values[i])}},i,u;for(n.dynamicOpt=angular.copy(n.origOpt),n.dropdownOpt=angular.copy(n.origOpt),n.dropdownOpt.values=[],n.dropdownOpt.style={"z-index":"-1"},n.dropdownOpt.isVisible=!0,i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible=!0,n.dynamicOpt.values[i].toggleVisible=function(n){this.isVisible=n};n.$on("ngRepeatFinished",function(){var r,i;for(n.totalWidth=20,n.offset=t.parent().offset(),i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].width=t.find("."+n.dynamicOpt.values[i].label).width(),n.totalWidth+=n.dynamicOpt.values[i].width;for(n.totalWidth+n.offset.left<angular.element("body").prop("scrollWidth")?f():e(),r=0,i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible&&(r+=1,r>2&&(r-=1,n.dynamicOpt.values[i].toggleVisible(!1)));n.dropdownOpt.label=r>0?"More":"Actions";n.dropdownOpt.style={"z-index":"9"}});u=function(){var r,i;for(t.parent().offset().left!=0&&(n.offset=t.parent().offset()),n.totalWidth=20,i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible&&(n.totalWidth+=n.dynamicOpt.values[i].width);if(n.dropdownOpt.isVisible&&(n.totalWidth+=n.dropdownOpt.width),n.totalWidth+n.offset.left<angular.element("body").prop("scrollWidth")){for(n.dynamicOpt.values.sort(function(n,t){return n.priority>t.priority?-1:n.priority<t.priority?1:0}),r=0,i=0;i<n.dynamicOpt.values.length;i++)if(n.dynamicOpt.values[i].isVisible&&(n.totalWidth-=n.dynamicOpt.values[i].width,n.dynamicOpt.values[i].toggleVisible(!1)),n.totalWidth+n.offset.left+n.dynamicOpt.values[i].width<angular.element("body").prop("scrollWidth")&&(n.totalWidth+=n.dynamicOpt.values[i].width,n.dynamicOpt.values[i].toggleVisible(!0),r+=1),r==2)break;n.dropdownOpt.label=r>0?"More":"Actions"}else{for(n.dynamicOpt.values.sort(function(n,t){return n.priority>t.priority?1:n.priority<t.priority?-1:0}),r=0,i=0;i<n.dynamicOpt.values.length;i++)if(n.dynamicOpt.values[i].isVisible&&(n.totalWidth-=n.dynamicOpt.values[i].width,n.dynamicOpt.values[i].toggleVisible(!1)),n.totalWidth+n.offset.left+n.dynamicOpt.values[i].width<angular.element("body").prop("scrollWidth")&&(n.totalWidth+=n.dynamicOpt.values[i].width,n.dynamicOpt.values[i].toggleVisible(!0),r+=1),r==2)break;n.dropdownOpt.label=r>0?"More":"Actions"}for(n.dropdownOpt.values=[],i=0;i<n.dynamicOpt.values.length;i++)n.dynamicOpt.values[i].isVisible||n.dropdownOpt.values.push(n.dynamicOpt.values[i]);n.$apply()};angular.element(r).resize(u);n.$on("$destroy",function(){angular.element(r).off("resize",u)})}}}]);angular.module("gridTaskApp").controller("filterCtrl",["$scope","$element",function(n){n.listState=!1;n.filterClick=function(){n.listState=!n.listState;n.listState&&n.filterOptions.forEach(function(n){n.filter=""})};n.showRecords=function(){n.listState=!1;n.filtrate(n.filterOptions)}}]);angular.module("gridTaskApp").controller("filterListCtrl",["$scope",function(n){n.filter=function(){n.isFiltrate=!0}}]);angular.module("gridTaskApp").directive("filterList",["templatesPath",function(n){return{restrict:"EA",templateUrl:n+"directive-templates/filter-list.html",controller:"filterListCtrl",link:function(){}}}]);angular.module("gridTaskApp").directive("filter",["templatesPath",function(n){return{restrict:"EA",scope:{filterOptions:"=filter",filtrate:"=onFiltrate"},controller:"filterCtrl",templateUrl:n+"directive-templates/filter.html",link:function(){}}}]);angular.module("gridTaskApp").directive("grTemplate",["myTemplateService","templatesPath",function(n,t){return{restrict:"EAC",scope:{template:"=grTemplate",name:"@grName"},replace:!0,require:"?^grName",templateUrl:t+"directive-templates/gr-template.html",link:function(t){n.put(t.template,t.name);t.templateUrl=t.name}}}]);angular.module("gridTaskApp").directive("graphs",["templatesPath",function(n){return{restrict:"EA",scope:{graphs:"="},templateUrl:n+"directive-templates/graphs.html",link:function(){}}}]);angular.module("gridTaskApp").directive("hideRender",["$timeout",function(){return{restrict:"AC",priority:1e3,compile:function(){return{pre:function(n,t){t.hide()},post:function(n,t){t.show()}}}}}]);angular.module("gridTaskApp").controller("histogramCtrl",["$scope",function(n){n.selectedUsers=[];n.select=function(t){t.name!="1"?n.selectedUsers.push({touchpoints:t.name+" touchpoints"}):n.selectedUsers.push({touchpoints:t.name+" touchpoint"});n.$apply()}}]);angular.module("gridTaskApp").directive("histogram",["templatesPath","$compile",function(n){return{restrict:"EA",controller:"histogramCtrl",scope:{data:"=histogramData"},require:"?histogramData",templateUrl:n+"directive-templates/histogram.html",link:function(n,t){n.$watch("data",function(i){if(i){t.find(".chart").remove();t.find(".histogram").append('<svg class="chart"><\/svg>');var r={top:50,right:30,bottom:60,left:90},e=700-r.left-r.right,u=340-r.top-r.bottom,o=d3.scale.ordinal().domain(i.map(function(n){return n.name})).rangeRoundBands([0,e],.1),s=d3.scale.linear().domain([0,9e5]).range([u,0]),h=d3.svg.axis().scale(o).orient("bottom"),c=d3.svg.axis().scale(s).orient("left"),f=d3.select(".chart").attr("width",e+r.left+r.right).attr("height",u+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");f.selectAll(".bar").data(i).enter().append("rect").attr("class","bar").attr("x",function(n){return o(n.name)+38}).attr("y",function(n){return s(n.value)}).attr("height",function(n){return u-s(n.value)}).attr("width",o.rangeBand()/2).on("click",function(t){n.select(t)});f.append("g").attr("class","y axis").call(c).append("text").attr("transform","rotate(-90)").attr("x",-u/2).attr("y",-10-r.bottom).attr("dy",".1em").attr("dx","40px").style("text-anchor","end").text("Population");f.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(h).append("text").attr("x",e/2).attr("y",r.bottom-25).attr("dy",".71em").style("text-anchor","end").text("Touchpoint #");f.append("text").text("Potential Rich histogram").attr("x",200).attr("class","title")}})}}}]);angular.module("gridTaskApp").directive("kxDateRange",["$parse","$translate",function(n,t){return{restrict:"CAE",require:"?ngModel",compile:function(n,i){return i.disableEdit?n.append('<span class="kx-daterangepicker">\n  <span class="add-on glyph-calendar">\n    <i class="icon-calendar icon-large"><\/i>\n  <\/span>\n  <form ng-submit="onHitReturn()">\n    <input kx-stealth-input\n    ng-model="inputValue"\n    ng-change="onInputChange()"\n    ng-class="{\'ng-invalid\': isInvalid}" readonly><\/input>\n  <\/form>\n<\/span>'):n.append('<span class="kx-daterangepicker">\n  <span class="add-on glyph-calendar">\n    <i class="icon-calendar icon-large"><\/i>\n  <\/span>\n  <form ng-submit="onHitReturn()">\n    <input kx-stealth-input\n    ng-model="inputValue"\n    ng-change="onInputChange()"\n    ng-class="{\'ng-invalid\': isInvalid}"><\/input>\n  <\/form>\n<\/span>'),n.after('<span ng-show="isInvalid" class="help-inline calendar-invalid-msg">{{"Incorrect Date" | translate}}<\/span>'),function(n,i,r,u){var f,l,o,a,h,s,v,c,e;return o=function(n){var t,u,i;return i=n.start,t=n.end,u=i.isValid()&&t.isValid(),u&&(r.timeRange==="future"?i&&t&&moment()<=i&&i<=t:r.timeRange==="past"?i&&t&&i<=t&&t<=moment():i&&t)},a=i.offset(),v=a.left<=400?"right":"left",f=r.format||"MMM DD, YYYY",e=r.separator||" - ",c=function(n){return n.start.format(f)+e+n.end.format(f)},h=_.bind(function(t,i){if(!t.isSame(u.$viewValue.start)||!i.isSame(u.$viewValue.end))return n.inputValue=c({start:t,end:i}),u.$setViewValue({start:t,end:i}),u.$setValidity("parses",!0)}),n.onHitReturn=function(){var n;return n=i.data("daterangepicker"),h(n.startDate,n.endDate)},n.onInputChange=function(){var t,u,r;return t=n.inputValue.split(e),t.length===2?(r={start:moment(t[0],f,!0),end:moment(t[1],f,!0)},u=i.data("daterangepicker"),u.setStartDate(r.start),u.setEndDate(r.end),n.isInvalid=!o(r)):n.isInvalid=!0},s=function(t){var r,u,f,e;if(t&&t.start)return e=t.start,u=t.end,r=i.data("daterangepicker"),r.oldStartDate=e,r.oldEndDate=u,r.startDate=e,r.endDate=u,r.updateView(),r.updateCalendars(),f=c(t),n.inputValue=f,f},u.$parsers.push(function(n){var i,t;if(_.isString(n)){if(i=n.split(e),t={start:moment(i[0],f,!0),end:moment(i[1],f,!0)},u.$setValidity("parses",o(t)),o(t))return t}else return n}),l=u.$render,u.$render=function(){return l(),i.trigger("keyup")},t(["Today","Yesterday","Last 7 Days","Last 30 Days","This Month","Last Month","Last 3 Months","Apply","Cancel","From","To","W","Custom Range"]).then(function(n){var o,p,c,l,a,t,y,w;for(u.$formatters.push(s),y=[[n.Today,[moment(),moment()]],[n.Yesterday,[moment().subtract(1,"days"),moment().subtract(1,"days")]],[n["Last 7 Days"],[moment().subtract(7,"days"),moment().subtract(1,"days")]],[n["Last 30 Days"],[moment().subtract(30,"days"),moment().subtract(1,"days")]],[n["This Month"],[moment().startOf("month"),moment().subtract(1,"days")]],[n["Last Month"],[moment().subtract(1,"months").startOf("month"),moment().subtract(1,"months").endOf("month")]],[n["Last 3 Months"],[moment().subtract(3,"months").startOf("month"),moment().subtract(1,"months").endOf("month")]]],a={"kx-date-range":_.object(y),exceptToday:_.object(_.rest(y)),lastYear:{}},c=l=11;l>=0;c=--l)o=function(){return moment().subtract("months",c)},w=o().startOf("month"),p=c===0?o():o().endOf("month"),a.lastYear[o().format("MMM YYYY")]=[w,p];t={format:f,separator:e,startDate:moment().subtract("day",6),endDate:moment(),locale:{applyLabel:n.Apply,cancelLabel:n.Cancel,fromLabel:n.From,toLabel:n.To,weekLabel:n.W,customRangeLabel:n["Custom Range"]}};r.timeRange==="future"?_.extend(t,{minDate:moment()}):r.timeRange==="past"&&_.extend(t,{maxDate:moment(),opens:v,ranges:a[r.kxDateRange]});i.daterangepicker(t);s(u.$modelValue)||s({start:t.startDate,end:t.endDate});i.on("apply.daterangepicker",function(n,t){return h(t.startDate,t.endDate)});return angular.element(".daterangepicker.dropdown-menu").css("display","none"),u.$render()})}}}}]);angular.module("gridTaskApp").directive("kxMultiselect",["$timeout",function(n){return{restrict:"A",scope:{options:"=kxMultiselect"},link:function(t,i){n(function(){i.multipleSelect(t.options)})}}}]),function(){angular.module("gridTaskApp").directive("kxMenu",[function(){return{restrict:"AE",link:function(n,t){var i,u,f,r;return u=null,i=null,r=null,f=null,n.session={user:{id:1}},n.$watch("session.user.id",function(e){var h,o,c,l,a,s,v;if(e&&((v=n.navigationTree)!=null?v.length:void 0)>0)return u=t.children("ul").children("li"),sessionStorage.selectedNav&&(s=JSON.parse(sessionStorage.selectedNav),r=u.eq(1),r.addClass("kx-menu-selected")),c=function(){return u.mouseenter(l),u.mouseleave(a)},l=function(){return i=u.filter(this),i.addClass("kx-menu-open"),f=i.children(".kx-submenu").find("a"),f.click(h)},a=function(){if(i)return o()},h=function(){return r&&r.removeClass("kx-menu-selected"),r=i,r.addClass("kx-menu-selected"),s={index:_.indexOf(u,r[0])},sessionStorage.selectedNav=JSON.stringify(s),o()},o=function(){return i.removeClass("kx-menu-open"),i=null,f.off("click"),f=null},c()})}}}])}.call(this);angular.module("gridTaskApp").controller("kxNavBarCtrl",["$scope",function(){}]);angular.module("gridTaskApp").directive("kxNavBar",["templatesPath",function(n){return{restrict:"A",controller:"kxNavBarCtrl",scope:{},templateUrl:n+"directive-templates/kx-nav-bar.html",link:function(){}}},]);angular.module("gridTaskApp").controller("NavigationCtrl",["$scope","NavigationTree",function(n,t){return n.navigationTree=t.get()}]);angular.module("gridTaskApp").directive("kxStealthInput",[function(){return{restrict:"CAE",link:function(n,t){var r,u,i;return r=!1,u=!1,i=function(){return t.toggleClass("stealth-mode",!(r||u))},t.focus(function(){return r=!0,i()}),t.blur(function(){return r=!1,i()}),t.mouseover(function(){return u=!0,i()}),t.mouseout(function(){return u=!1,i()}),i()}}}]);angular.module("gridTaskApp").controller("loadingCtrl",["$scope","LOADING",function(n,t){var i=this;i.parent===undefined&&(i.parent=t.parentSelector);i.resize=function(){i.disabled={height:angular.element(i.parent).height()+"px",width:angular.element(i.parent).width()+"px",top:0}}}]);angular.module("gridTaskApp").directive("loading",["templatesPath","LOADING","$window",function(n,t,i){return{restrict:"EA",scope:{parent:"="},templateUrl:n+"directive-templates/loading.html",controller:"loadingCtrl",controllerAs:"ctrl",link:function(n,t,r,u){u.resize();angular.element(i).resize(u.resize);n.$on("$destroy",function(){angular.element(i).off("resize",u.resize)})}}}]);angular.module("gridTaskApp").directive("maxHeighter",["$timeout","$window",function(n,t){function i(n){getWindowHeight()-n.offset().top>0?n.css("max-height",getWindowHeight()-n.offset().top-10+"px"):n.css("max-height","100px")}return{restrict:"EAC",scope:{},compile:function(r){r.onPositionChanged(function(){i(r)},0);return{post:function(r,u){var f=function(){i(u)};n(function(){i(u)});angular.element(t).resize(f);r.$on("$destroy",function(){angular.element(t).off("resize",f)})}}}}}]);angular.module("gridTaskApp").controller("modalCtrl",["$scope","$element","$timeout",function(n,t,i){n.isModal=!0;n.fields=[];n.myEntity=angular.copy(n.value.entity);n.modal="modal-ctrl";n.save=function(){Array.isArray(n.value.actions.history)||(n.value.actions.history=[]);n.value.actions.history.push({dateChange:new Date,oldObj:angular.copy(n.value.entity),newObj:angular.copy(n.myEntity)});for(var t in n.myEntity)n.value.entity[t]=n.myEntity[t];n.close()};n.close=function(){n.myEntity={};n.isModal=!1};n.resize=function(){n.fade={height:t.find(".dialog").prop("scrollHeight")+60+"px",width:t.find(".dialog").prop("scrollWidth")+"px"}};n.onInclude=function(){i(function(){n.fade={height:t.find("."+n.modal).prop("scrollHeight")+"px"}})}}]);angular.module("gridTaskApp").directive("modal",["templatesPath","$timeout","$window",function(n,t,i){return{restrict:"EA",templateUrl:n+"directive-templates/modal.html",scope:{value:"=",bodyTemplateUrl:"@",bodyTemplate:"@",enableSave:"="},controller:"modalCtrl",link:function(n,r){var u;u=function(){n.resize()};angular.element(i).resize(u);n.$on("$destroy",function(){angular.element(i).off("resize",u)});n.$watch("isModal",function(i){t(function(){i?(n.resize(),angular.element("body").css("overflow","hidden")):(angular.element(r).remove(),angular.element("body").css("overflow","inherit"))})})}}}]);angular.module("gridTaskApp").directive("mouseOver",["templatesPath","$timeout","$window",function(n,t,i){return{restrict:"E",scope:{type:"=",value:"=",parentTop:"=parentTop"},templateUrl:n+"directive-templates/mouse-over.html",link:function(n,r){n.style={visibility:"hidden"};n.parentTop===undefined&&(n.parentTop=0);t(function(){n.style.top=$.cursorMessageData.mouseY+r.find(".mouse-over").height()<angular.element(i).height()?$.cursorMessageData.mouseY-n.parentTop+15+"px":$.cursorMessageData.mouseY-r.find(".mouse-over").height()-n.parentTop-20+"px";n.style.left=$.cursorMessageData.mouseX+10+r.find(".mouse-over").width()<angular.element(i).width()?$.cursorMessageData.mouseX+10+"px":angular.element(i).width()-r.find(".mouse-over").width()-10+"px";n.style.visibility="visible"})}}}]);angular.module("gridTaskApp").directive("numberFormat",[function(){return{restrict:"A",scope:{number:"=numberFormat"},link:function(n,t){t.html(nFormatter(n.number,1));n.$watch("number",function(n){t.html(nFormatter(n,1))})}}}]);angular.module("gridTaskApp").directive("onFinishRender",["$timeout",function(n){return{restrict:"A",link:function(t){t.$last===!0&&n(function(){t.$emit("ngRepeatFinished")})}}}]);angular.module("gridTaskApp").controller("overlayCtrl",["$scope","OVERLAY","$timeout","$element","$window",function(n,t,i,r,u){n.selectors===undefined&&(n.selectors={});n.selectors.overlaySelector===undefined&&(n.selectors.overlaySelector=t.overlaySelector);n.selectors.heighterSelector===undefined&&(n.selectors.heighterSelector=t.heighterSelector);n.selectors.alignTopSelector===undefined&&(n.selectors.alignTopSelector=t.alignTopSelector);n.toggleMinWidth===undefined&&(n.toggleMinWidth=t.toggleMinWidth);n.style={left:getWindowWidth()-n.toggleMinWidth+"px",transition:"",overflow:"hidden"};n.transcludeStyle={};n.setToggle=function(t){i(function(){n.state?(n.style.left=getWindowWidth()+650>1750?"650px":0,n.transcludeStyle.width=angular.element("body").prop("scrollWidth")-n.style.left.toString().replace("px","")-n.toggleMinWidth-5+"px"):(n.style.left=angular.element("body").prop("scrollWidth")-n.toggleMinWidth+"px",n.style.overflow="hidden",(n.state===undefined||t)&&(n.style.transition="none"));n.state===undefined||t||(n.style.transition="");var i=10;angular.element(n.selectors.heighterSelector).length!=0&&(angular.element(u).height()-angular.element(n.selectors.heighterSelector).offset().top-i>300?(n.style.minHeight=angular.element("body").prop("scrollHeight")-angular.element(n.selectors.heighterSelector).offset().top-i+"px",n.style.top=0):(n.style.minHeight=angular.element("body").prop("scrollHeight")-angular.element(n.selectors.alignTopSelector).offset().top-8+"px",angular.element(n.selectors.alignTopSelector).offset().top-r.offset().top!=0&&(n.style.top=angular.element(n.selectors.alignTopSelector).offset().top-r.offset().top+"px")))})}}]);angular.module("gridTaskApp").directive("overlay",["$timeout","templatesPath","$window",function(n,t,i){return{restrict:"EAC",scope:{selectors:"=",toggleMinWidth:"="},controller:"overlayCtrl",templateUrl:t+"directive-templates/overlay.html",transclude:!0,replace:!0,link:function(t,r){var u=function(){t.setToggle(!0);t.$apply()};n(function(){t.$watch("state",function(n){t.setToggle();n==!1&&r.scrollTop(0)})});r.parent().onPositionChanged(u,0);angular.element(i).resize(u);t.$on("$destroy",function(){r.parent().off("onPositionChanged",u);angular.element(i).off("resize",u)})}}}]);angular.module("gridTaskApp").controller("contentOptionsCardsCtrl",["$scope",function(n){n.$watch("options.searchValue",function(t){n.options.searchOptions&&(n.options.searchOptions.selected.label=="everywhere"?n.options.search(t):n.options.search(n.options.searchOptions.selected.label+":"+t))})}]);angular.module("gridTaskApp").directive("contentOptionsCards",["templatesPath",function(n){return{restrict:"EA",controller:"contentOptionsCardsCtrl",scope:{options:"="},templateUrl:n+"directive-templates/content-options-cards.html"}}]);angular.module("gridTaskApp").directive("pageContentCards",["templatesPath","CONTENT","$compile",function(n,t,i){return{restrict:"EA",scope:{data:"=gridData",contentOptions:"=",uiGridOptions:"=",cardsOptions:"="},templateUrl:n+"directive-templates/page-content-cards.html",link:function(r,u){var f=new Initializer(r,u,t,n,i);f.initCards();r.$watch("contentOptions.datepickerOptions.dateRange",function(n){if(n)for(var t in r.cardsOptions.cards)r.cardsOptions.cards[t].counter&&(r.cardsOptions.cards[t].count=r.cardsOptions.cards[t].counter.calculate(r.contentOptions.datepickerOptions.startDate,r.contentOptions.datepickerOptions.endDate))})}}}]);angular.module("gridTaskApp").controller("contentOptionsD3Ctrl",["$scope",function(n){n.$watch("options.searchValue",function(t){n.options.searchOptions&&(n.options.searchOptions.selected.label=="everywhere"?n.options.search(t):n.options.search(n.options.searchOptions.selected.label+":"+t))})}]);angular.module("gridTaskApp").directive("contentOptionsD3",["templatesPath",function(n){return{restrict:"EA",controller:"contentOptionsD3Ctrl",scope:{options:"=",filters:"=",loading:"=",onDataRangeChanged:"=",past:"="},templateUrl:n+"directive-templates/content-options-d3.html"}}]);angular.module("gridTaskApp").directive("pageContentD3",["templatesPath","CONTENT","$compile","jsonService","HISTOGRAM","SANKEY",function(n,t,i,r,u,f){return{restrict:"EA",scope:{contentOptions:"=",cardsOptions:"=",sankeyData:"=",histogramData:"=",filters:"="},templateUrl:n+"directive-templates/page-content-d3.html",link:function(e,o){o.addClass("page-content-d3");var s=new Initializer(e,o,t,n,i,r,u,f);s.initSankey();e.contentOptions.refresh=function(){s.refreshSankey()};e.filters.onDateRangeChange=function(){for(var n in e.cardsOptions.cards)e.cardsOptions.cards[n].counter&&(e.cardsOptions.cards[n].count=e.cardsOptions.cards[n].counter.calculate(this.dateRange.start.toDate(),this.dateRange.end.toDate()))}}}}]);angular.module("gridTaskApp").controller("contentOptionsCtrl",["$scope",function(n){n.$watch("options.searchValue",function(t){n.options.searchOptions&&(n.options.searchOptions.selected.label=="everywhere"?n.options.search(t):n.options.search(n.options.searchOptions.selected.label+":"+t))})}]);angular.module("gridTaskApp").directive("contentOptions",["templatesPath",function(n){return{restrict:"E",controller:"contentOptionsCtrl",scope:{options:"="},templateUrl:n+"directive-templates/content-options.html"}}]);angular.module("gridTaskApp").directive("pageContentBody",[function(){return{restrict:"EA",link:function(n,t){t.append(n.contentOptions.contentBodyTemplate);n.$watch("contentOptions.contentBodyTemplate",function(n){t.html("");t.append(n)})}}}]);angular.module("gridTaskApp").directive("pageContentFooter",[function(){return{restrict:"EA",link:function(n,t){t.append(n.contentOptions.contentFooterTempalte);n.$watch("contentOptions.contentFooterTempalte",function(n){t.html("");t.append(n)})}}}]);angular.module("gridTaskApp").directive("pageContentHeader",[function(){return{restrict:"EA",link:function(n,t){t.append(n.contentOptions.contentHeaderTempalte);n.$watch("contentOptions.contentHeaderTempalte",function(n){t.html("");t.append(n)})}}}]);angular.module("gridTaskApp").directive("pageContent",["templatesPath","CONTENT","$compile",function(n,t,i){return{restrict:"EA",scope:{data:"=gridData",contentOptions:"=",grid:"=",gridOptions:"=",uiGridOptions:"="},templateUrl:n+"directive-templates/page-content.html",link:function(r,u){var f=new Initializer(r,u,t,n,i);f.init();r.$watch("contentOptions",function(){f.init();f.refreshOpt()});r.$watch("data",function(n){Array.isArray(n)&&f.refreshData(n)});r.$watch("data.length",function(){Array.isArray(r.data)&&(r.grid.count=r.data.length)});r.$watch("views.options.selected",function(n){n&&(f.refreshOpt(),n.isGrid&&f.refreshCheckCallback())})}}}]);angular.module("gridTaskApp").directive("resizeOn",["$window",function(n){function t(n,t,i){n.css("width",angular.element(t).position().left+angular.element(t).width()+"px");n.width()<n.css("min-width").replace("px","")?n.css({right:"auto",width:i+"px",left:angular.element(t).position().left+"px"}):n.css({right:0,left:"auto"})}return{restrict:"AC",scope:{event:"=resizeOn",parent:"@",width:"=resizeWidth"},link:function(i,r){i.width=i.width||450;r.css("top",angular.element(i.parent).height()+"px");var u=function(){t(r,i.parent,i.width)};angular.element(n).resize(u);i.$on("$destroy",function(){angular.element(n).off("resize",u)});i.$watch("event",function(n){n&&t(r,i.parent,i.width)})}}}]);angular.module("gridTaskApp").controller("searchCtrl",["$scope",function(n){n.edited=!1;n.clear=function(){n.searchValue=""};n.$watch("searchValue",function(t){n.edited=t.length>0?!1:!0})}]);angular.module("gridTaskApp").directive("search",["templatesPath",function(n){return{restrict:"E",scope:{searchValue:"=",edited:"="},controller:"searchCtrl",templateUrl:n+"directive-templates/search.html",link:function(){}}}]);angular.module("gridTaskApp").controller("splitButtonCtrl",["$scope",function(n){n.actions||(n.actions=[]);n.typehead||(n.actions.everywhere={label:"everywhere",isEverywhere:!0},n.actions.selected=n.actions.everywhere);n.select=function(t){n.actions.selected=t;n.search="";n.close()};n.toggle=function(){n.isShow=!n.isShow};n.close=function(){n.isShow=!1}}]);angular.module("gridTaskApp").directive("splitButton",["templatesPath",function(n){return{restrict:"E",scope:{actions:"=",selected:"=",search:"=",typehead:"="},templateUrl:n+"directive-templates/split-button.html",controller:"splitButtonCtrl",link:function(){}}}]);angular.module("gridTaskApp").directive("upload",["templatesPath",function(n){return{restrict:"EA",templateUrl:n+"directive-templates/upload.html",scope:{upload:"=uploadCallback",label:"="},link:function(n,t){t.find(":file").change(function(){var r=this.files[0],i;r.name.indexOf("json")!=-1?(i=new FileReader,i.readAsText(r),i.onloadend=function(){var t=i.result;n.jsonData=JSON.parse(t);n.upload&&n.upload(n.jsonData)},t.find(":file").val("")):t.find(":file").val("")})}}}]);var Counter=function(){function n(n){this.card=n}return n.prototype.calculate=function(n,t){for(var r,u=t.getDate()-n.getDate(),f=Math.floor(Math.random()*1e3+1),i=0;i<this.card.graphs.length;i++)r=Math.floor(Math.random()*60+1),this.card.graphs[i].style.height=r+"px";return f*u},n}(),Initializer=function(){function n(n,t,i,r,u,f,e,o){this.scope=n;this.element=t;this.content=i;this.templatesPath=r;this.$compile=u;this.jsonService=f;this.HISTOGRAM=e;this.SANKEY=o}return n.prototype.init=function(){this.initContentOpt();this.initGrid();this.initGridOpt();this.initUiGridOpt()},n.prototype.initCards=function(){this.initContentCardsOpt();this.initCardsGrid();this.initUiGridOpt();this.initCardsOpt()},n.prototype.initSankey=function(){this.initCardsOpt();this.initSankeyContentOpt()},n.prototype.refreshSankey=function(){this.scope.cardsOptions.cards=this.content.cardsOptions.cards;this.scope.cardsOptions.startDate=this.content.cardsOptions.startDate;this.scope.cardsOptions.endDate=this.content.cardsOptions.endDate;this.scope.cardsOptions.margin=525;this.scope.sankeyData=this.SANKEY.data;this.scope.histogramData=this.HISTOGRAM.data},n.prototype.initSankeyContentOpt=function(){this.scope.contentOptions===undefined&&(this.scope.contentOptions={});this.scope.contentOptions.eventType===undefined&&(this.scope.contentOptions.eventType=this.content.eventType);this.scope.contentOptions.segments===undefined&&(this.scope.contentOptions.segments=this.content.segments);this.scope.contentOptions.campaign===undefined&&(this.scope.contentOptions.campaign=this.content.campaign);this.scope.contentOptions.debugCard===undefined&&(this.scope.contentOptions.debugCard={});this.scope.contentOptions.debugCard.id===undefined&&(this.scope.contentOptions.debugCard.id=this.content.debugCard.id);this.scope.contentOptions.debugCard.text===undefined&&(this.scope.contentOptions.debugCard.text=this.content.debugCard.text);this.scope.contentOptions.debugCard.body===undefined&&(this.scope.contentOptions.debugCard.body=this.content.debugCard.body);this.scope.contentOptions.debugCard.templateUrl===undefined&&this.scope.contentOptions.debugCard.template===undefined&&(this.scope.contentOptions.debugCard.templateUrl=this.content.debugCard.templateUrl);this.scope.contentOptions.datepickerOptions===undefined&&(this.scope.contentOptions.datepickerOptions={});this.scope.contentOptions.datepickerOptions.startDate===undefined&&(this.scope.contentOptions.datepickerOptions.startDate=this.content.cardsOptions.startDate);this.scope.contentOptions.datepickerOptions.endDate===undefined&&(this.scope.contentOptions.datepickerOptions.endDate=this.content.cardsOptions.endDate);this.scope.contentOptions.datepickerOptions.dateRange===undefined&&(this.scope.contentOptions.datepickerOptions.dateRange=this.content.cardsOptions.dateRange);this.scope.contentOptions.datepickerOptions.config===undefined&&(this.scope.contentOptions.datepickerOptions.config={singleMonth:!0,showShortcuts:!1,showTopbar:!1});this.scope.filters===undefined&&(this.scope.filters=this.content.sankeyFilters);this.scope.sankeyData===undefined&&(this.scope.sankeyData=this.SANKEY.data);this.scope.histogramData===undefined&&(this.scope.histogramData=this.HISTOGRAM.data)},n.prototype.initCardsOpt=function(){if(this.scope.cardsOptions===undefined&&(this.scope.cardsOptions={}),this.scope.cardsOptions.cards===undefined){this.scope.cardsOptions.cards=this.content.cardsOptions.cards;this.scope.cardsOptions.margin===undefined&&(this.scope.cardsOptions.margin=this.content.cardsOptions.margin);for(var n in this.scope.cardsOptions.cards)n!="clicks"&&(this.scope.cardsOptions.cards[n].counter=new Counter(this.scope.cardsOptions.cards[n]));angular.element(document).click(function(){this.scope.cardsOptions.cards.clicks&&(this.scope.cardsOptions.cards.clicks.count+=1,this.scope.$apply())}.bind(this))}},n.prototype.initContentOpt=function(){this.scope.contentOptions===undefined&&(this.scope.contentOptions={});this.scope.contentOptions.loading&&(this.scope.contentOptions.isLoading=!0,angular.element("loading").length==0&&(this.element.find(this.content.listSelector).append(this.content.loadingTemplate),this.$compile(angular.element("loading"))(this.scope)));this.scope.contentOptions.checks===undefined&&(this.scope.contentOptions.checks=this.content.checks);this.scope.contentOptions.mores===undefined&&(this.scope.contentOptions.mores=this.content.mores);this.scope.contentOptions.filtrate===undefined&&(this.scope.contentOptions.filtrate=function(n){this.scope.gridOptions.filterOptions.filterText=convertFilterOptions(n).filterText;this.scope.uiGridOptions.filterOptions.filterText=convertFilterOptions(n).filterText}.bind(this));this.scope.contentOptions.search===undefined&&(this.scope.contentOptions.search=function(n){this.scope.gridOptions.filterOptions.filterText=n;this.scope.uiGridOptions.filterOptions.filterText=n}.bind(this));this.scope.contentOptions.refresh===undefined&&(this.scope.contentOptions.refresh=function(){this.scope.contentOptions.loading&&(this.scope.contentOptions.isLoading=!0);this.scope.contentOptions.refreshCallback()}.bind(this));(this.scope.contentOptions.withUpload||this.scope.contentOptions.upload!==undefined)&&(this.scope.contentOptions.isDynamic=!0,this.scope.contentOptions.upload===undefined&&(this.scope.contentOptions.upload=function(n){this.scope.contentOptions.loading&&(this.scope.contentOptions.isLoading=!0);this.scope.data=n;this.scope.grid.count=this.scope.data.length;this.scope.$apply()}.bind(this)))},n.prototype.initContentCardsOpt=function(){this.scope.contentOptions===undefined&&(this.scope.contentOptions={});this.scope.contentOptions.filtrate===undefined&&(this.scope.contentOptions.filtrate=function(n){this.scope.uiGridOptions.filterOptions.filterText=convertFilterOptions(n).filterText}.bind(this));this.scope.contentOptions.search===undefined&&(this.scope.contentOptions.search=function(n){this.scope.uiGridOptions.filterOptions.filterText=n}.bind(this));this.scope.contentOptions.filterOptions=this.content.filterOptions(this.scope.data);this.scope.contentOptions.searchOptions=this.content.searchOptions(this.scope.data);this.scope.contentOptions.searchOptions.selected=this.scope.contentOptions.searchOptions[0];this.scope.contentOptions.searchValue="";this.scope.contentOptions.datepickerOptions===undefined&&(this.scope.contentOptions.datepickerOptions={});this.scope.contentOptions.datepickerOptions.startDate===undefined&&(this.scope.contentOptions.datepickerOptions.startDate=this.content.cardsOptions.startDate);this.scope.contentOptions.datepickerOptions.endDate===undefined&&(this.scope.contentOptions.datepickerOptions.endDate=this.content.cardsOptions.endDate);this.scope.contentOptions.datepickerOptions.dateRange===undefined&&(this.scope.contentOptions.datepickerOptions.dateRange=this.content.cardsOptions.dateRange);this.scope.contentOptions.datepickerOptions.config===undefined&&(this.scope.contentOptions.datepickerOptions.config={singleMonth:!0,showShortcuts:!1,showTopbar:!1})},n.prototype.initCardsGrid=function(){this.scope.exports===undefined&&(this.scope.exports=this.content.exports,this.scope.exports.options.callback=function(n){this.scope.export=n}.bind(this))},n.prototype.initGrid=function(){this.scope.exports===undefined&&(this.scope.exports=this.content.exports,this.scope.exports.options.callback=function(n){this.scope.export=n}.bind(this));this.scope.views===undefined&&(this.scope.views=this.content.views,this.scope.views.options.callback=function(n){this.scope.view=n}.bind(this));this.scope.grid===undefined&&(this.scope.grid={},this.scope.grid.name=this.content.gridName,Array.isArray(this.scope.data)&&(this.scope.grid.count=this.scope.data.length));this.scope.grid.name===undefined&&(this.scope.grid.name=this.content.gridName);this.scope.grid.count===undefined&&Array.isArray(this.scope.data)&&(this.scope.grid.count=this.scope.data.length)},n.prototype.initGridOpt=function(){var t,n;if(this.scope.gridOptions===undefined&&(this.scope.gridOptions={}),this.scope.gridOptions.data===undefined&&(this.scope.gridOptions.data=this.content.ngGridOpt.data),this.scope.gridOptions.multiSelect===undefined&&(this.scope.gridOptions.multiSelect=this.content.ngGridOpt.multiSelect),this.scope.gridOptions.rowTemplate===undefined&&(this.scope.gridOptions.rowTemplate=this.content.ngGridOpt.rowTemplate),this.scope.gridOptions.filterOptions===undefined&&(this.scope.gridOptions.filterOptions=this.content.ngGridOpt.filterOptions),this.scope.gridOptions.rowHeight===undefined&&(this.scope.gridOptions.rowHeight=this.content.ngGridOpt.rowHeight),this.scope.gridOptions.headerRowHeight===undefined&&(this.scope.gridOptions.headerRowHeight=this.content.ngGridOpt.headerRowHeight),this.scope.gridOptions.showFooter===undefined&&(this.scope.gridOptions.showFooter=this.content.ngGridOpt.showFooter),this.scope.gridOptions.footerRowHeight===undefined&&(this.scope.gridOptions.footerRowHeight=this.content.ngGridOpt.footerRowHeight),this.scope.gridOptions.footerTemplate===undefined&&(this.scope.gridOptions.footerTemplate=this.content.ngGridOpt.footerTemplate),this.scope.gridOptions.init===undefined&&this.scope.contentOptions.loading&&(this.scope.gridOptions.init=function(){this.scope.contentOptions.isLoading=!1}.bind(this)),this.scope.gridOptions.detailsTemplate===undefined&&this.scope.gridOptions.withDetails&&(this.scope.gridOptions.detailsTemplate=this.content.ngGridOpt.detailsTemplate),this.scope.gridOptions.rowActions===undefined&&(this.scope.gridOptions.rowActions=this.content.ngGridOpt.rowActions),this.scope.gridOptions.rowCheckAction===undefined&&(this.scope.gridOptions.rowCheckAction=this.content.ngGridOpt.rowCheckAction),this.scope.gridOptions.beforeSelectionChange===undefined&&(this.scope.gridOptions.beforeSelectionChange=function(){return!1}.bind(this)),this.scope.pluginActionOpt={values:this.scope.gridOptions.rowActions,detailsTemplate:this.scope.gridOptions.detailsTemplate,detailsCondition:this.scope.gridOptions.detailsCondition,onCheck:this.scope.gridOptions.rowCheckAction.bind(this.scope),contentOptions:this.scope.contentOptions},this.scope.gridOptions.plugins===undefined)this.scope.gridOptions.plugins=[],this.scope.gridOptions.plugins.push(new ngGridActionsPlugin(this.scope.pluginActionOpt,this.$compile));else{for(t=!1,n=0;n<this.scope.gridOptions.plugins.length;n++)if(this.scope.gridOptions.plugins[n].constructor.name=="ngGridActionsPlugin"){t=!0;break}t||this.scope.gridOptions.plugins.push(new ngGridActionsPlugin(this.scope.pluginActionOpt,this.$compile))}},n.prototype.initUiGridOpt=function(){this.scope.uiGridOptions===undefined&&(this.scope.uiGridOptions={});for(var n in this.content.uiGridOpt)this.scope.uiGridOptions[n]===undefined&&(this.scope.uiGridOptions[n]=this.content.uiGridOpt[n]);this.scope.uiGridOptions.filterOptions===undefined&&(this.scope.uiGridOptions.filterOptions=this.content.ngGridOpt.filterOptions);this.scope.uiGridOptions.rowActions===undefined&&(this.scope.uiGridOptions.rowActions=this.content.ngGridOpt.rowActions)},n.prototype.refreshOpt=function(){var t,i,n;for(this.scope.contentOptions.filterOptions=this.content.filterOptions(this.scope.data),this.scope.contentOptions.searchOptions=this.content.searchOptions(this.scope.data),this.scope.contentOptions.searchOptions.selected=this.scope.contentOptions.searchOptions[0],this.scope.contentOptions.searchValue="",this.scope.contentOptions.checks.options.selected=this.scope.contentOptions.checks.options.actions.noOne,t=!1,i=0,n=0;n<this.scope.gridOptions.plugins.length;n++)if(this.scope.gridOptions.plugins[n].constructor.name=="ngGridActionsPlugin"){t=!0;i=n;break}t||(this.scope.pluginActionOpt={values:this.scope.gridOptions.rowActions,detailsTemplate:this.scope.gridOptions.detailsTemplate,detailsCondition:this.scope.gridOptions.detailsCondition,onCheck:this.scope.gridOptions.rowCheckAction.bind(this.scope),contentOptions:this.scope.contentOptions},this.scope.gridOptions.plugins[i].refreshOpt(this.scope.pluginActionOpt));this.scope.contentOptions.loading&&(this.scope.contentOptions.isLoading=!1)},n.prototype.refreshCheckCallback=function(){for(var n=0;n<this.scope.gridOptions.plugins.length;n++)if(this.scope.gridOptions.plugins[n].constructor.name=="ngGridActionsPlugin"){isFindAct=!0;indexAct=n;break}this.scope.gridOptions.plugins[indexAct].refreshCallback()},n.prototype.refreshData=function(n){this.refreshOpt();this.scope.grid.count=this.scope.data.length;this.scope.gridOptions.filterOptions.filterText="";this.scope.uiGridOptions.filterOptions.filterText="";var i=angular.copy(this.scope.gridOptions.columnDefs),t=columnGenerator(n,this.templatesPath);this.scope.gridOptions.reInit===undefined?columnsCompare(i,t)||(this.scope.gridOptions.columnDefs=t,this.scope.view&&this.scope.view.isGrid&&this.$compile(angular.element("div[custom-grid]"))(this.scope)):this.scope.view&&this.scope.view.isGrid&&this.$compile(angular.element("div[custom-grid]"))(this.scope);this.scope.contentOptions.loading&&(this.scope.contentOptions.isLoading=!1)},n}(),templatesPath="/src/app/templates/",Row=function(){function n(n,t,i){this.elm=n;this.scope=t.$new();this.compile=i}return n.prototype.edit=function(){angular.element("modal").length!=0&&angular.element("modal").remove();this.scope.editingRow=this.elm;angular.element("body").append('<div modal value="editingRow" enable-save="true" body-template-url="'+templatesPath+'directive-templates/edit-entity.html"><\/modal>');var n=angular.element("div[modal]");this.compile(n)(this.scope)},n.prototype.delete=function(n){n.splice(n.indexOf(this.elm.entity),1)},n.prototype.history=function(){angular.element("history").length!=0&&angular.element("history").remove();this.scope.historiedRow=this.elm;angular.element("body").append('<div modal value="historiedRow.actions.history"  body-template-url="'+templatesPath+'directive-templates/history.html"><\/history>');var n=angular.element("div[modal]");this.compile(n)(this.scope)},n.prototype.copy=function(){var t=JSON.stringify(this.elm.entity),n;if(window.clipboardData&&clipboardData.setData)clipboardData.setData("text",t),$.cursorMessage&&$.cursorMessage("Row is copied to clipboard.");else{angular.element("body").append('<input id="holdtext" style="display: none"/>');n=angular.element("#holdtext");n.val(t);n.select();try{document.execCommand("copy");$.cursorMessage&&$.cursorMessage("Row is copied to clipboard.")}catch(i){$.cursorMessage&&$.cursorMessage("Copied ended with error.",{backgroundColor:"rgb(143, 59, 59)"})}finally{n.remove("#holdtext")}}},n}();angular.element.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,(angular.element(this.parent()).height()-angular.element(this).outerHeight())/2+angular.element(this.parent()).scrollTop())+"px"),this.css("left",Math.max(0,(angular.element(this.parent()).width()-angular.element(this).outerWidth())/2+angular.element(this.parent()).scrollLeft())+"px"),this.css("z-index",1e4),this};angular.element&&function(){angular.element.cursorMessageData={};angular.element(window).ready(function(){angular.element(".cursor-message").length==0&&(angular.element("body").append('<div class="cursor-message">&nbsp;<\/div>'),angular.element(".cursor-message").hide());angular.element("body").mousemove(function(n){angular.element.cursorMessageData.mouseX=n.pageX;angular.element.cursorMessageData.mouseY=n.pageY;angular.element.cursorMessageData.options!=undefined&&angular.element._showCursorMessage()})});angular.element.extend({cursorMessage:function(n,t){t==undefined&&(t={});t.offsetX==undefined&&(t.offsetX=5);t.offsetY==undefined&&(t.offsetY=5);t.hideTimeout==undefined&&(t.hideTimeout=2e3);angular.element(".cursor-message").html(n).fadeIn("slow");angular.element.cursorMessageData.hideTimeoutId!=undefined&&clearTimeout(angular.element.cursorMessageData.hideTimeoutId);t.hideTimeout>0&&(angular.element.cursorMessageData.hideTimeoutId=setTimeout(angular.element.hideCursorMessage,t.hideTimeout));angular.element.cursorMessageData.options=t;angular.element._showCursorMessage()},hideCursorMessage:function(){angular.element(".cursor-message").fadeOut("slow")},_showCursorMessage:function(){angular.element(".cursor-message").css({top:angular.element.cursorMessageData.mouseY+angular.element.cursorMessageData.options.offsetY+30+"px",left:angular.element.cursorMessageData.mouseX+angular.element.cursorMessageData.options.offsetX-150});angular.element.cursorMessageData.options.backgroundColor&&angular.element(".cursor-message").css({"background-color":angular.element.cursorMessageData.options.backgroundColor})}})}(angular.element);angular.element.fn.onPositionChanged=function(n,t){var i,r,u;return(t==null&&(t=100),i=angular.element(this[0]),i.length<1)?i:(r=null,u=null,setInterval(function(){if(i==null||i.length<1)return i;r==null&&(r=i.position());u==null&&(u=i.offset());var t=i.position(),f=i.offset();(r.top!=t.top||r.left!=t.left)&&(angular.element(this).trigger("onPositionChanged",{lastPos:r,newPos:t}),typeof n=="function"&&n(r,t),r=i.position());(u.top!=f.top||u.left!=f.left)&&(angular.element(this).trigger("onOffsetChanged",{lastOff:u,newOff:f}),typeof n=="function"&&n(u,f),u=i.offset())},t),i)};d3.sankey=function(){function h(){t.forEach(function(n){n.sourceLinks=[];n.targetLinks=[]});e.forEach(function(n){var i=n.source,r=n.target;typeof i=="number"&&(i=n.source=t[n.source]);typeof r=="number"&&(r=n.target=t[n.target]);i.sourceLinks.push(n);r.targetLinks.push(n)})}function c(){t.forEach(function(n){n.value=Math.max(d3.sum(n.sourceLinks,u),d3.sum(n.targetLinks,u))})}function l(){for(var i=t,u,n=0;i.length;)u=[],i.forEach(function(t){t.x=n;t.dx=f;t.sourceLinks.forEach(function(n){u.push(n.target)})}),i=u,++n;a(n);v((r[0]-f)/(n-1))}function a(n){t.forEach(function(t){t.sourceLinks.length||(t.x=n-1)})}function v(n){t.forEach(function(t){t.x*=n})}function y(n){function c(){var n=d3.min(f,function(n){return(r[1]-(n.length-1)*i)/d3.sum(n,u)});f.forEach(function(t){t.forEach(function(t,i){t.y=i;t.dy=t.value*n})});e.forEach(function(t){t.dy=t.value*n})}function l(n){function t(n){return o(n.source)*n.value}f.forEach(function(i){i.forEach(function(i){if(i.targetLinks.length){var r=d3.sum(i.targetLinks,t)/d3.sum(i.targetLinks,u);i.y+=(r-o(i))*n}})})}function a(n){function t(n){return o(n.target)*n.value}f.slice().reverse().forEach(function(i){i.forEach(function(i){if(i.sourceLinks.length){var r=d3.sum(i.sourceLinks,t)/d3.sum(i.sourceLinks,u);i.y+=(r-o(i))*n}})})}function h(){f.forEach(function(n){var t,u,e=0,o=n.length,f;for(n.sort(v),f=0;f<o;++f)t=n[f],u=e-t.y,u>0&&(t.y+=u),e=t.y+t.dy+i;if(u=e-i-r[1],u>0)for(e=t.y-=u,f=o-2;f>=0;--f)t=n[f],u=t.y+t.dy+i-e,u>0&&(t.y-=u),e=t.y})}function v(n,t){return n.y-t.y}var f=d3.nest().key(function(n){return n.x}).sortKeys(d3.ascending).entries(t).map(function(n){return n.values}),s;for(c(),h(),s=1;n>0;--n)a(s*=.99),h(),l(s),h()}function s(){function n(n,t){return n.source.y-t.source.y}function i(n,t){return n.target.y-t.target.y}t.forEach(function(t){t.sourceLinks.sort(i);t.targetLinks.sort(n)});t.forEach(function(n){var t=0,i=0;n.sourceLinks.forEach(function(n){n.sy=t;t+=n.dy});n.targetLinks.forEach(function(n){n.ty=i;i+=n.dy})})}function o(n){return n.y+n.dy/2}function u(n){return n.value}var n={},f=24,i=8,r=[1,1],t=[],e=[];return n.nodeWidth=function(t){return arguments.length?(f=+t,n):f},n.nodePadding=function(t){return arguments.length?(i=+t,n):i},n.nodes=function(i){return arguments.length?(t=i,n):t},n.links=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(r=t,n):r},n.layout=function(t){return h(),c(),l(),y(t),s(),n},n.relayout=function(){return s(),n},n.link=function(){function t(t){var i=t.source.x+t.source.dx,r=t.target.x,u=d3.interpolateNumber(i,r),o=u(n),s=u(1-n),f=t.source.y+t.sy+t.dy/2,e=t.target.y+t.ty+t.dy/2;return"M"+i+","+f+"C"+o+","+f+" "+s+","+e+" "+r+","+e}var n=.5;return t.curvature=function(i){return arguments.length?(n=+i,t):n},t},n};angular.module("gridTaskApp").constant("LOCATIONS_EN",{});angular.module("gridTaskApp").constant("LOCATIONS_RU",{});angular.module("gridTaskApp").config(["$translateProvider","LOCATIONS_RU","LOCATIONS_EN",function(n,t,i){function r(t,i){angular.forEach(i,function(i,r){n.translations(t)[r]=i})}n.translations("en",{"Selected Users":"Selected Users",usersInteract:"Users who have interacted with at least ",filterList:"Filter list",showRecords:"Show records",back:"Back",save:"Save",filter:"Filter",history:"History",oldValue:"Old value",newValue:"New value",dateChange:"Date change",historyEmpty:"History is empty",editEntity:"Edit entity",close:"Close",topSegments:"Top Segments",topCampaigns:"Top campaigns",records:"records",choose:"Choose",upload:"Upload"});n.translations("ru",{"Selected Users":"Выбранные пользователи",filterList:"Список фильтров",showRecords:"Показать записи",back:"Назад",save:"Сохранить",filter:"Фильтр",history:"История",oldValue:"Старое значение",newValue:"Новое значение",dateChange:"Дата изменения",historyEmpty:"История пуста",editEntity:"Изменить сущность",close:"Закрыть",topSegments:"Лучшие сегменты",topCampaigns:"Лучшие кампании",records:"записей",choose:"Выбрать",upload:"Загрузить"});r("en",i);r("ru",t);n.preferredLanguage("en")}]);templatesPath="/src/app/templates/";angular.module("gridTaskApp").factory("anyOtherClickFactory",["$document",function(n){var t=[];return{_register:function(i){n.on("click",i);t.push(i)},_getHandlers:function(){return t},_getCountHandlers:function(){return t.length},_destroy:function(i){n.off("click",i);t.splice(i,1)}}}]);angular.module("gridTaskApp").factory("cardsFactory",["$rootScope",function(n){var t={},i=40,r=50,u="cardFlip",f="debugFlip";return{register:function(n,u,f,e,o){angular.extend(t,{cards:n,startDate:u,endDate:f,margin:e,startLeft:i,groupMarginRight:r,isDebug:o.enableDebugging,debugCard:o.debugCard,groupStyle:{}})},getInstance:function(){return t},refresh:function(n){t.cards=n},enableDebugging:function(n){n&&(this.flipDebug(t.debugCard.id),t.debugCard.style={left:t.startLeft},t.startLeft+=t.margin)},flipAll:function(){var n=t.startLeft;for(var i in t.cards)this.flipCard(i),t.cards[i].style={left:n},n+=t.margin;angular.extend(t.groupStyle,{width:n+t.groupMarginRight})},flipCard:function(t){n.$broadcast(u,t)},flipDebug:function(t){n.$broadcast(f,t)},clear:function(){t={};i=40;r=50}}}]);angular.module("gridTaskApp").factory("chartFactory",["$rootScope",function(n){var t=function(){function t(n,t){this.units="Widgets";this.margin={top:0,right:10,bottom:10,left:10};this.width=1500-this.margin.left-this.margin.right;this.height=740-this.margin.top-this.margin.bottom;this.format=function(n){return this.formatNumber(n)+" "+this.units};this.formatNumber=d3.format(",.0f");this.color=d3.scale.category20();this.data=angular.copy(n);this.opt=t;this.handlers=[]}return t.prototype.clearHtml=function(n){n.html("")},t.prototype._transform=function(){return"translate("+this.margin.left+","+this.margin.top+")"},t.prototype._renderSvg=function(){this.svg=d3.select("#chart").append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",this._transform.bind(this))},t.prototype._renderSankey=function(){this.sankey=d3.sankey().nodeWidth(25).nodePadding(35).size([this.width,this.height])},t.prototype._renderLink=function(){this.path=this.sankey.link();this.link=this.svg.append("g").selectAll(".link").data(this.data.links).enter().append("path").attr("class","link").attr("d",this.path).style("stroke-width",function(n){return Math.max(1,n.dy)}).style("stroke",function(n){return n.source.color?n.source.color:n.source.color=this.color(n.source.name.replace(/ .*/,""))}.bind(this))},t.prototype._renderNode=function(){this.node=this.svg.append("g").selectAll(".node").data(this.data.nodes).enter().append("g").attr("class","node").attr("transform",function(n){return"translate("+n.x+","+n.y+")"}).call(d3.behavior.drag().origin(function(n){return n}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){n.$broadcast("drag",t,this)}));this.handlers.push({remove:function(){this.svg.selectAll(".node").on("dragstart",null);this.svg.selectAll(".node").on("drag",null)}.bind(this)});this.node.append("rect").attr("height",function(n){return n.dy}).attr("width",this.sankey.nodeWidth()).style("fill",function(n){return n.color=n.color?n.color:this.color(n.name.replace(/ .*/,""))}.bind(this)).style("stroke",function(n){return d3.rgb(n.color).darker(2)}).on("mouseover",this.mouseover.bind(this)).on("mouseout",this.mouseout.bind(this));this.handlers.push({remove:function(){this.node.selectAll("rect").on("mouseover",null);this.node.selectAll("rect").on("mouseout",null)}.bind(this)});this.node.append("text").attr("x",-6).attr("y",function(n){return n.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(n){return n.name}).filter(function(n){return n.x<this.width/2}.bind(this)).attr("x",6+this.sankey.nodeWidth()).attr("text-anchor","start");this.node.append("text").attr("x",20).attr("y",function(n){return n.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(n){return n.val}).filter(function(n){return n.x<this.width/2}.bind(this)).attr("x",-20+this.sankey.nodeWidth()).attr("text-anchor","start")},t.prototype._initNodeMap=function(){var n={};this.data.nodes.forEach(function(t){n[t.name]=t});this.data.links=this.data.links.map(function(t){return{source:n[t.source],target:n[t.target],value:t.value}})},t.prototype._initSankey=function(){this.sankey.nodes(this.data.nodes).links(this.data.links).layout(32)},t.prototype.mouseover=function(t){n.$broadcast("mouseover",t)},t.prototype.mouseout=function(t){n.$broadcast("mouseout",t)},t.prototype.fullRenderSankey=function(){this._renderSvg();this._renderSankey();this._initNodeMap();this._initSankey();this._renderLink();this._renderNode()},t.prototype.refreshData=function(n){this.data=angular.copy(n)},t.prototype._removeListeners=function(){angular.forEach(this.handlers,function(n){n.remove()})},t.prototype.destroy=function(){this._removeListeners();this.svg&&this.svg.remove();this.svg=this.node=this.link=this.path=this.sankey=this.data=null},t}();return{getChart:function(n,i){return new t(n,i)}}}]);angular.module("gridTaskApp").service("jsonService",["$http","$q",function(n,t){this.get=function(i){var r=t.defer();return n.get(i).success(function(n){r.resolve(n)}).error(function(){r.reject("Failed to json.")}),r.promise}}]),function(){"use strict";function n(n,t){return{register:function(t,i){this.opt=i;this.opt=this.opt||{};this.opt.isMenu=this.opt.isMenu||!1;this.opt.label=this.opt.label||"";this.opt.values=this.opt.values||[];this.opt.isCheckbox=this.opt.isCheckbox||!0;this.opt.withSave=this.opt.withSave||!1;this.opt.onSave=this.opt.onSave||function(){};this.opt.callback=this.opt.callback||function(){};this.opt.onCheck=this.opt.onCheck||angular.bind(this,this.check);this.opt.parentSelector=this.opt.parentSelector||n.parentSelector;this.opt.parentMinWidth=this.opt.parentMinWidth||n.parentMinWidth;Number.isFinite(this.opt.countBlockLastColumn)||(this.opt.countBlockLastColumn=1);Number.isFinite(this.opt.countBlockFirstColumn)||(this.opt.countBlockFirstColumn=1);this.colCache=[];this.columns=t;this._calcAllWidth();this._pushValues()},destroy:function(){this.opt=this.colCache=this.columns=this.totalWidth=this.visibleWidth=null},getColCache:function(){return this.colCache},getColumns:function(){return this.columns},getTotalWidth:function(n){return n&&this._calcTotalWidth(),this.totalWidth},getVisibleWidth:function(n){return n&&this._calcVisibleWidth(),this.visibleWidth},getIsMenu:function(){return this.colCache.length>0||this.opt.showResponsMenu},getOptions:function(){return this.opt},refreshColumns:function(n){this.columns=n;this.colCache=[];this._calcAllWidth();this._pushValues()},toggleVisible:function(n){this.columns[n].toggleVisible();this._changeOptVisible(this.columns[n]);this.columns[n].visible?(angular.forEach(this.colCache,function(n,t){n.element==this.columns[t]&&this.colCache.splice(t,1)},this),this.visibleWidth+=this.columns[n].minWidth):(this.colCache.push({label:this.columns[n].field,element:this.columns[n]}),this.visibleWidth-=this.columns[n].minWidth)},toggleColumns:function(n){n<this.visibleWidth?this._toBackFor(function(t,i){if(t.visible&&(this.toggleVisible(i),n>this.visibleWidth))return-1},this):this._toNextFor(function(t,i){if(!t.visible)if(n>this.visibleWidth+t.minWidth)this.toggleVisible(i);else return-1},this)},check:function(n,i){this.toggleVisible(i);angular.element(t).width()<this.visibleWidth?angular.element(this.opt.parentSelector).css({minWidth:this.visibleWidth+"px"}):angular.element(this.opt.parentSelector).css({minWidth:this.opt.parentMinWidth+"px"})},_calcVisibleWidth:function(){this.visibleWidth=this.columns.reduce(function(n,t){return t.visible?n+t.minWidth:n},0)},_calcTotalWidth:function(){this.totalWidth=this.columns.reduce(function(n,t){return n+t.minWidth},0)},_calcAllWidth:function(){this._calcTotalWidth();this._calcVisibleWidth()},_pushValues:function(){this.opt.values=[];this._toNextFor(function(n){this.opt.values.push({label:n.field,element:n,isVisible:n.visible})},this)},_changeOptVisible:function(n){angular.forEach(this.opt.values,function(t){t.element==n&&(t.isVisible=n.visible)})},_toNextFor:function(n,t){for(var r,u,i=0;i<this.columns.length;i++)if(angular.isFunction(n)){if(r=angular.bind(t,n,this.columns[i],i),u=r(this.columns[i],i),u==-1)break}else throw new Error("Wrong function.");},_toBackFor:function(n,t){for(var r,u,i=this.columns.length-this.opt.countBlockLastColumn-1;i>this.opt.countBlockFirstColumn;i--)if(angular.isFunction(n)){if(r=angular.bind(t,n,this.columns[i],i),u=r(this.columns[i],i),u==-1)break}else throw new Error("Wrong function.");}}}angular.module("gridTaskApp").factory("menuUtils",n);n.$inject=["MENU","$window"]}();angular.module("gridTaskApp").service("myTemplateService",["$http","$templateCache",function(n,t){this.put=function(n,i){t.put(i,n)}}]);angular.module("gridTaskApp").factory("NavigationTree",[function(){return{menu:[],get:function(){return this.menu=this.NAV_TREE},generate:function(){var n,u,t,f,i,r;for(t=[],i=this.NAV_TREE,n=0,u=i.length;n<u;n++)f=i[n],r=this.subTree(f),_.isEmpty(r)||t.push(r);return t},subTree:function(n){var i,f,e,r,u,t;if(t={},n.nodes!=null){for(t={name:n.name,nodes:[]},r=n.nodes,i=0,f=r.length;i<f;i++)e=r[i],u=this.subTree(e),_.isEmpty(u)||t.nodes.push(u);t.nodes.length===0&&(t={})}else n.permissions!=null&&this.checkPermission(n.permissions)&&(t={name:n.name,description:n.description,state:n.state,link:n.link});return t},checkPermission:function(n){return n[0]==="none"||arrayUtils.intersects(session.allow,n)},NAV_TREE:[{name:"PEOPLE",nodes:[{name:"Actions",nodes:[{name:"Manage Segments",description:"Create segments from 1st and 3rd party data to use in audience targeting, audience insights, and personalization.",state:"segments.switchPage.segmentList",link:"/segments/list",permissions:["segments","segments_ro"]},{name:"Manage Events",description:"Create and manage events to get detailed insights on any user action such as clicks, form submissions, video views and more.",state:"events.list",link:"/events/list",permissions:["events","events_ro"]},{name:"Manage Funnels",description:"Create funnels to track sequence of events and optimize customer funnel for higher conversions.",state:"funnels.funnelList",link:"/funnels/list",permissions:["funnels","funnels_ro"]}]},{name:"Insights",nodes:[{name:"Segment Insights",description:"View segment specific statistics and insights.",state:"audience.switchPage.discovery",link:"/audience/discovery",permissions:["segments","segments_ro"]},{name:"Segment Overlaps",description:"View population overlap for all your segments.",state:"audience.overlaps",link:"/audience/overlaps",permissions:["segment_overlaps_report"]},{name:"Attributes",description:"View trends for attribute values.",state:"audience.attributesReport",link:"/audience/attributes-report",permissions:["attributes_report"]},{name:"Data Providers",description:"Compare data provider population with Krux’s  people-data universe.",state:"audience.dataprovidersReport",link:"/audience/dataproviders-report",permissions:["dataproviders_report"]},{name:"Reach Opportunities",description:"Reach and convert people who are similar to your most valuable customers.",state:"opportunities.base2ndParty.chart",link:"/opportunities/secondPartyChart/",permissions:["opportunities","opportunities_ro"]},{name:"Audience Profile",description:"Audience Profile Report Organization Level.",state:"audience.profileReportOrgLevel",link:"/audience/audience_profile/",permissions:[]}]},{name:"Analytics",nodes:[{name:"Audience",description:" ",state:"audience.audienceAnalytics",link:"/audience/audience-analytics",permissions:["audience_analytics"]},{name:"Engagement",description:" ",state:"audience.engagement",link:"/audience/engagement",permissions:["user_engagement_distribution"]},{name:"Loyalty",description:" ",state:"audience.loyalty",link:"/audience/loyalty",permissions:["loyalty_report"]},{name:"Social Sharing",description:"",state:"audience.socialSharing",link:"/audience/socialSharing",permissions:[]}]}]},{name:"MARKETING",nodes:[{name:"Performance",nodes:[{name:"Segments",description:"View segment specific performance details.",state:"marketing.segmentPerformance",link:"/marketing/performance/?activeTab=audienceSegments",permissions:["marketing_performance"]},{name:"Campaigns",description:"View campaign specific performance details.",state:"marketing.campaignPerformance",link:"/marketing/performance/?activeTab=campaigns",permissions:["marketing_performance"]},{name:"Sites",description:"View site specific performance details.",state:"marketing.campaignPerformance",link:"/marketing/performance/?activeTab=sites",permissions:["marketing_performance"]},{name:"Reach and Overlap",description:"View reach overlap across channels for campaigns or segments to increase precision.",state:"marketing.reachOverlap",link:"/marketing/reach_overlap",permissions:["reach_and_overlap"]}]},{name:"Real Time Bidding",nodes:[{name:"Manage Campaigns",description:"",state:"rtb.campaign.list",link:"/rtb/campaign",permissions:["ic_extend","ic_extend_ro"]},{name:"Manage Creatives",description:"",state:"rtb.creative.list",link:"/rtb/creative",permissions:["ic_extend","ic_extend_ro"]}]},{name:"Customer Journey",nodes:[{name:"Manage Campaign Attribution",description:"",state:"marketing.campaignAttribution",link:"/marketing/campaign_attribution",permissions:["manage_goals"]},{name:"Attribution Report",description:"",state:"marketing.attribution",link:"/marketing/attribution",permissions:["manage_goals","attribution_report"]}]},{name:"Global Frequency",nodes:[{name:"Manage Frequency",description:"Control and fine-tune frequency across all execution systems.",state:"marketing.globalFrequencyManagement",link:"/marketing/global_frequency_management",permissions:["global_frequency_management"]},{name:"Frequency Distribution",description:"Monitor under-performing and wasteful campaign frequency.",state:"marketing.frequencyDistributionReport",link:"/frequency-reports",permissions:["frequency_reports"]}]}]},{name:"LINK",nodes:[{name:"Buyer",nodes:[{name:"Search",description:"",state:"buyersConsole.search",link:"/buyersConsole/search",permissions:["search_audience_segments"]},{name:"Manage Orders",description:"",state:"order.manageOrders",link:"/order/manageOrders",permissions:["ic_brokerage_ui","ic_brokerage_ui_ro"]},{name:"Cart",description:"",state:"order.cart",link:"/order/cart",permissions:["purchase_segments_manage_orders","purchase_segments_manage_orders_ro","search_audience_segments"]},{name:"Billing",description:"",state:"buyersConsole.buyerBilling",link:"/buyersConsole/buyer_billing",permissions:["purchase_segments_manage_orders"]}]},{name:"Seller",nodes:[{name:"Manage LinK",description:"",state:"interchange.brokerage.list",link:"/interchange/link",permissions:["ic_brokerage_ui","ic_brokerage_ui_ro"]},{name:"Manage Orders",description:"",state:"interchange.brokerage.orders.list",link:"/interchange/link/orders",permissions:["ic_brokerage_ui","ic_brokerage_ui_ro"]},{name:"Billing",description:"",state:"buyersConsole.sellerBilling",link:"/buyersConsole/seller_billing",permissions:["ic_brokerage_ui","ic_brokerage_ui_ro"]}]}]},{name:"INTERCHANGE",nodes:[{name:"Performance",nodes:[{name:"Yield Analytics",description:"",state:"yieldAnalytics.aggregate",link:"/interchange/yield_analytics",permissions:["yield_analytics","yield_analytics_ro"]}]},{name:"Partner Management",nodes:[{name:"Manage Accounts",description:"",state:"partnerEnablementFramework.list",link:"/partner_management",permissions:["manage_partners"]}]}]},{name:"SUPERTAG",nodes:[{name:"Actions",nodes:[{name:"List Tags",description:"",state:"supertag.listTags",link:"/supertag/list_tags",permissions:["supertag_full","supertag_readonly"]},{name:"Pending Approval",description:"",state:"supertag.pendingApproval.list",link:"/supertag/pendingApproval",permissions:["supertag_approve"]},{name:"Library Tags",description:"",state:"supertag.libraryTags",link:"/supertag/library_tags",permissions:[]},{name:"Rule manager",description:"Manage supertag named rules",state:"supertag.tagRules",link:"/supertag/tag_rules",permissions:["supertag_full"]}]},{name:"Reports",nodes:[{name:"Tag Summary",description:"",state:"supertag.reports.list",link:"/supertag/reports",permissions:["supertag_full","supertag_readonly"]},{name:"Tag Inspector",description:"",state:"supertag.tagInspectorCode",link:"/supertag/tag_inspector?auto_inspect",permissions:["supertag_full","supertag_readonly"]}]}]},{name:"DATA SENTRY",nodes:[{name:"Dashboard",description:"",state:"dataSentry.globalDashboard",link:"/dataSentry/globalDashboard",permissions:["data_sentry"]}]},{name:"TOOLS",nodes:[{name:"Settings",nodes:[{name:"Manage Users",description:"",state:"account.usersList",link:"/account/users",permissions:["manage_users"]},{name:"Manage Sites",description:"",state:"account.sites",link:"/account/sites",permissions:["manage_sites"]},{name:"Manage Settings",description:"",state:"account.settings",link:"/account/settings",permissions:["none"]}]},{name:"Internal",nodes:[{name:"Create Organization",description:"",state:"organization.create",link:"/organization/create",permissions:[]},{name:"Organization Settings",description:"",state:"organization.edit",link:"/organization/edit/",permissions:[]},{name:"Internal Dashboard",description:"",state:"internal.dashboard",link:"/internal/dashboard",permissions:[]},{name:"Traffic Trends",description:"",state:"internal.traffic_trends",link:"/internal/traffic_trends",permissions:[]},{name:"Pipeline Dashboard",description:"",state:"dataPipeline",link:"/pipeline",permissions:[]}]},{name:"Platform Commands",nodes:[{name:"Generate Krux Standard Segments",description:"",state:"platform.generate",link:"/platform/generate",permissions:[]}]}]}]}}]);angular.module("gridTaskApp").run(["$templateCache",function(n){"use strict";n.put("/src/app/templates/directive-templates/cards.html",'<div class="cards-group" ng-style="groupStyle">\r\n\t<div class="my-card" id="{{contentOptions.debugCard.id}}" ng-if="contentOptions.enableDebugging" ng-style="contentOptions.debugCard.style">\r\n\t\t<div class="front">\r\n\t\t\t<div class="my-card__header">\r\n\t\t\t\t<span class="my-card__header__icon card-font icon-info"><\/span>\r\n\t\t\t\t<span class="my-card__header__text">{{contentOptions.debugCard.text | translate}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="my-card__body">\r\n\t\t\t\t<span>{{contentOptions.debugCard.body | translate}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t\t<div class="back">\r\n\t\t\t<div class="my-card__header">\r\n\t\t\t\t<span class="my-card__header__icon card-font icon-circle-left"><\/span>\r\n\t\t\t\t<span class="my-card__header__text">{{contentOptions.debugCard.text | translate}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="my-card__body">\r\n\t\t\t\t<div ng-if="contentOptions.debugCard.templateUrl" ng-include="contentOptions.debugCard.templateUrl">\r\n\t\t\t\t<\/div>\r\n\t\t\t\t<div ng-if="!contentOptions.debugCard.templateUrl" gr-template="contentOptions.debugCard.template" gr-name="debugTemplate"><\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="my-card" ng-repeat="(id, card) in cards" id="{{id}}" ng-style="card.style">\r\n\t\t<div class="front">\r\n\t\t\t<div class="my-card__header">\r\n\t\t\t\t<span class="my-card__header__icon card-font icon-info"><\/span>\r\n\t\t\t\t<span class="my-card__header__text">{{card.label | translate}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div ng-if="card.counter">\r\n\t\t\t\t<div class="my-card__body" ng-init="card.count = card.counter.calculate(startDate, endDate) || card.count">\r\n\t\t\t\t\t<span number-format="card.count"><\/span>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t\t<div class="back">\r\n\t\t\t<div class="my-card__header">\r\n\t\t\t\t<span class="my-card__header__icon card-font icon-circle-left"><\/span>\r\n\t\t\t\t<span class="my-card__header__text">{{card.label | translate}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="my-card__body">\r\n\t\t\t\t<div class="my-card__body__graphs" graphs="card.graphs"><\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/chart-segment.html",'<div class="chart-segment">\r\n\t<div class="chart-segment__list">\r\n\t\t<div class="chart-segment__list__header">\r\n\t\t\t<span class="chart-segment__list__header__text">{{panel.header.text | translate}}<\/span>\r\n\t\t<\/div>\r\n\t\t<div class="chart-segment__list__body">\r\n\t\t\t<div ng-repeat="user in selectedUsers" class="chart-segment__list__body__user" ng-class="{\'even\' : $even, \'odd\': $odd}">\r\n\t\t\t\t<span class="chart-segment__list__body__user__icon icon-close" ng-click="deleteUser(user, $index)"><\/span>\r\n\t\t\t\t<span class="chart-segment__list__body__user__text">{{::\'usersInteract\' | translate}}{{user.touchpoints}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="chart-segment__btn">\r\n\t\t<button class="kx-btn">{{::panel.btn.text | translate}}<\/button>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/checkbox-select.html",'<div class="checkbox-select" any-other-click="isShow=false">\r\n\t<div class="checkbox-select__check">\r\n\t\t<label class="checkbox-select__input-control">\r\n\t\t\t<input type="checkbox" ng-model="options.selected.check" ng-change="checked(options.selected.check)" />\r\n\t\t\t<span class="checkbox-select__input-control__span" ng-class="{\'marked\':options.selected.isMarked || options.selected.isNotMarked}"><\/span>\r\n\t\t<\/label>\r\n\t<\/div>\r\n\t<button type="button" class="checkbox-select__btn" ng-class="{\'opened\' : isShow}" ng-click="toggle()">\r\n\t\t<span class="checkbox-select__expand" ng-class="{\'icon-menu-down\': !isShow, \'icon-menu-up\': isShow}"><\/span>\r\n\t<\/button>\r\n\r\n\t<ul class="checkbox-select__list" ng-show="isShow">\r\n\t\t<li ng-repeat="action in options.actions" ng-click="select(action)"><a>{{action.label | translate}}<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/directive-templates/content-options-cards.html",'<div class="options">\r\n\t<div class="options__block">\r\n\t\t<div custom-datepicker="options.datepickerOptions"><\/div>\r\n\t<\/div>\r\n\t<div class="options__filter">\r\n\t\t<split-button class="options__show" actions="options.searchOptions" selected="options.show" search="options.searchValue"><\/split-button>\r\n\t\t<search class="options__search" search-value="options.searchValue"><\/search>\r\n\t\t<div class="options__filt" filter="options.filterOptions" on-filtrate="options.filtrate"><\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/content-options-d3.html",'<div class="options">\r\n\t<div class="options__block">\r\n\t\t<div class="input-prepend">\r\n\t\t\t<div kx-date-range="kx-date-range" time-range="past" name="dateRange" ng-model="filters.dateRange" ng-disabled="loading" ng-change="filters.onDateRangeChange()" class="date-range-picker"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="options__select">\r\n\t\t<select class="options__event" ui-select2="options.eventType.selectOpt" ng-model="options.eventOpt.options.selected" data-placeholder="Choose Event" ng-required="true">\r\n\t\t\t<option value=""><\/option>\r\n\t\t\t<option value="{{action}}" ng-repeat="action in options.eventType.options.actions">{{action.label|translate}}<\/option>\r\n\t\t<\/select>\r\n\t\t<select class="options__segments kx-multiselect" kx-multiselect="options.segments.selectOpt" ng-change="options.segments.options.onChange()" ng-model="options.segments.options.selected" multiple="true" data-placeholder="{{::\'Choose Segments\' | translate}}">\r\n\t\t\t<option value="{{action}}" ng-repeat="action in options.segments.options.actions">{{action.label|translate}}<\/option>\r\n\t\t<\/select>\r\n\t\t<select class="options__campaign kx-multiselect" kx-multiselect="options.campaign.selectOpt" ng-change="options.campaign.options.onChange()" ng-model="options.campaign.options.selected" data-placeholder="{{::\'Choose Campaigns\' | translate}}" multiple="true">\r\n\t\t\t<option value="{{action}}" ng-repeat="action in options.campaign.options.actions">{{action.label|translate}}<\/option>\r\n\t\t<\/select>\r\n\t<\/div>\r\n\t<button class="kx-btn" ng-click="options.refresh()">Update<\/button>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/content-options.html",'<div class="options">\r\n\t<div class="options__block">\r\n\t\t<div checkbox-select="options.checks.options" class="options__check"><\/div>\r\n\t\t<button class="options__refresh" ng-click="options.refresh()">Refresh<\/button>\r\n\t\t<div dropdown="options.mores.options" class="options__more"><\/div>\r\n\t\t<upload class="options__upload" ng-show="options.upload" upload-callback="options.upload"><\/upload>\r\n\t<\/div>\r\n\t<div class="options__filter">\r\n\t\t<search class="options__search" search-value="options.searchValue"><\/search>\r\n\t\t<split-button class="options__show" actions="options.searchOptions" selected="options.show" search="options.searchValue"><\/split-button>\r\n\t\t<div class="options__filt" filter="options.filterOptions" on-filtrate="options.filtrate"><\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/core-diagram.html",'<p id="chart" max-heighter>\r\n');n.put("/src/app/templates/directive-templates/custom-datepicker.html",'<button class="date-btn" ng-click="close()">\r\n\t<span class="date-btn__icon glyph-calendar"><\/span>\r\n\t<span class="date-btn__text">{{opt.startDate | date}} - {{opt.endDate | date}}<\/span>\r\n\t<button class="date-btn__toggle" ng-click="toggle()" ng-class="{\'opened\': isShow}">\r\n\t\t<span class="expand" ng-class="{ \'icon-menu-up\': isShow, \'icon-menu-down\': !isShow }">\r\n\t\t<\/span>\r\n\t<\/button>\r\n\t<div class="date-btn__datepicker" ng-if="isShow">\r\n\t<\/div>\r\n<\/button>\r\n');n.put("/src/app/templates/directive-templates/custom-grid.html",'<div class="custom-grid" ng-grid="options">\r\n\t<div grid-menu class="custom-grid__menu" options="options.menu" columns="columns"><\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/custom-ui-grid.html",'<div ui-grid="options" class="custom-ui-grid" ui-grid-selection ui-grid-expandable ui-grid-custom-menu>\r\n<\/div>');n.put("/src/app/templates/directive-templates/debug.html",'<div class="debug">\r\n\t<div class="debug__back">\r\n\t\t<button class="debug__back__btn" onclick="location.href = \'/\'">{{::\'back\' | translate}}<\/button>\r\n\t<\/div>\r\n\t<div class="debug__uploader">\r\n\t\t<upload class="debug__uploader__btn" upload-callback="contentOptions.uploadCards" label="\'Upload Cards\'"><\/upload>\r\n\t\t<upload class="debug__uploader__btn" upload-callback="contentOptions.uploadSankey" label="\'Upload Sankey\'"><\/upload>\r\n\t\t<upload class="debug__uploader__btn" upload-callback="contentOptions.uploadHistogram" label="\'Upload Histogram\'"><\/upload>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/dropdown.html",'<div class="my-dropdown" any-other-click="isShow=false">\r\n\t<button type="button" class="my-dropdown__btn" ng-show="!options.isMenu" ng-click="isShow = !isShow" ng-class="{\'opened\' : isShow}">\r\n\t\t<span class="my-dropdown__text" ng-show="!options.isCheckbox">{{options.label | translate}}{{options.selected.label | translate}}<\/span>\r\n\t\t<span class="my-dropdown__expand" ng-class="{\'icon-menu-up\': isShow, \'icon-menu-down\' : !isShow}"><\/span>\r\n\t<\/button>\r\n\t<button type="button" class="my-dropdown__btn" ng-show="options.isMenu" ng-click="isShow = !isShow" ng-class="{\'opened\' : isShow}">\r\n\t\t<span class="my-dropdown__text">{{options.label | translate}}<\/span>\r\n\t\t<span class="my-dropdown__expand" ng-class="{\'icon-menu-up\': isShow, \'icon-menu-down\' : !isShow}"><\/span>\r\n\t<\/button>\r\n\r\n\t<ul class="my-dropdown__list" ng-show="isShow">\r\n\t\t<li ng-repeat="action in options.values">\r\n\t\t\t<div ng-if="options.isCheckbox">\r\n\t\t\t\t<div class="my-dropdown__list__check">\r\n\t\t\t\t\t<label class="my-dropdown__list__input-control">\r\n\t\t\t\t\t\t<input type="checkbox" ng-model="action.isVisible" ng-change="options.onCheck(action, $index)" id="{{action.label}}">\r\n\t\t\t\t\t\t<span class="my-dropdown__list__input-control__span"><\/span>\r\n\t\t\t\t\t<\/label>\r\n\t\t\t\t<\/div>\r\n\t\t\t\t<label class="my-dropdown__list__label" for="{{action.label | translate}}">{{action.label | translate}}<\/label>\r\n\t\t\t<\/div>\r\n\t\t\t<a ng-click="select(action)" ng-if="!options.isCheckbox">{{action.label | translate}}<\/a>\r\n\t\t<\/li>\r\n\t\t<button ng-if="options.withSave" ng-click="options.onSave()" class="my-dropdown__save">{{::\'save\' | translate}}<\/button>\r\n\t<\/ul>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/edit-entity.html",'<h1>{{::\'editEntity\' | translate}}<\/h1>\r\n<div ng-repeat="(key, value) in myEntity" class="dialog__entity">\r\n\t<span class="dialog__key">{{key}}<\/span><input class="dialog__value" ng-model="myEntity[key]" />\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/filter-list.html",'<div class="filter-list">\r\n\t<div class="filter-list__header">\r\n\t\t{{::\'filterList\' | translate}}\r\n\t<\/div>\r\n\t<div class="filter-list__options">\r\n\t\t<div class="filter-list__options__value" ng-repeat="opt in filterOptions">\r\n\t\t\t<div class="filter-list__options__value__header">\r\n\t\t\t\t{{opt.label | translate}}\r\n\t\t\t<\/div>\r\n\t\t\t<div class="filter-list__options__value__input">\r\n\t\t\t\t<input type="text" ng-model="opt.filter" />\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div>\r\n\t\t<button class="filter-list__button" ng-click="showRecords()">{{::\'showRecords\' | translate}}<\/button>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/filter.html",'<div class="filter" any-other-click="listState=false" ng-class="{\'filter-selected\' : listState}">\r\n\t<button class="filter__btn" ng-click="filterClick()">\r\n\t\t<span class="filter__icon icon-filter"><\/span>\r\n\t\t<span class="filter__name">{{::\'filter\'|translate}}<\/span>\r\n\t\t<span class="expand" ng-class="{\'icon-menu-up\': listState, \'icon-menu-down\' : !listState}"><\/span>\r\n\t<\/button>\r\n\t<div ng-show="listState">\r\n\t\t<div class="filter__list" filter-list resize-on="listState" parent=".filter"><\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/gr-template.html",'<div ng-include="templateUrl">\r\n<\/div>');n.put("/src/app/templates/directive-templates/graphs.html",'<div ng-repeat="graph in graphs" class="graphs" ng-style="graph.style">\r\n\t<div class="graph">\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/grid-menu.html",'<div class="grid-menu" ng-show="gridMenuCtrl.isShow">\r\n\t<div class="grid-menu__options" dropdown="gridMenuCtrl.menu.opt"><\/div>\r\n<\/div>');n.put("/src/app/templates/directive-templates/histogram.html",'<div class="histogram">\r\n\t<svg class="chart">\r\n\t<\/svg>\r\n<\/div>\r\n<div chart-segment selected-users="selectedUsers"><\/div>\r\n');n.put("/src/app/templates/directive-templates/history.html",'<h1>{{::\'history\' | translate}}<\/h1>\r\n<div class="message" ng-if="value.length == 0">{{::\'historyEmpty\' | translate}}.<\/div>\r\n<div class="history__content" ng-repeat="hist in value">\r\n\t<div class="dialog__oldVal">\r\n\t\t{{::\'oldValue\' | translate}}: <div ng-repeat="(key, value) in hist.oldObj" class="dialog__entity">\r\n\t<span class="dialog__key">{{key | translate}}<\/span>:<span class="dialog__value">{{value | translate}}<\/span>\r\n<\/div>\r\n\t<\/div>\r\n\t<div class="dialog__newVal">\r\n\t\t{{::\'newValue\' | translate}}: <div ng-repeat="(key, value) in hist.newObj" class="dialog__entity">\r\n\t<span class="dialog__key">{{key | translate}}<\/span>:<span class="dialog__value">{{value | translate}}<\/span>\r\n<\/div>\r\n\t<\/div>\r\n\t<div class="dialog__dateChange">\r\n\t\t{{::\'dateChange\' | translate}}: <span>{{hist.dateChange | date}}<\/span>\r\n\t<\/div>\r\n\t<hr />\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/kx-nav-bar.html",'<nav class="kx-nav row-fluid">\r\n\t<div class="span12">\r\n\t\t<div class="row-fluid">\r\n\t\t\t<div class="kx-menu span8" ng-controller="NavigationCtrl" kx-menu>\r\n\t\t\t\t<a class="brand kx-navbar-icon"><img class="main-logo"><\/a>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li ng-repeat="node in navigationTree">\r\n\t\t\t\t\t\t<a>{{node.name}}<\/a>\r\n\t\t\t\t\t\t<div class="kx-submenu">\r\n\t\t\t\t\t\t\t<div class="kx-submenu-inner">\r\n\t\t\t\t\t\t\t\t<div ng-repeat="subNode in node.nodes">\r\n\t\t\t\t\t\t\t\t\t<h4 ng-if="subNode.nodes">{{subNode.name | translate}}<\/h4>\r\n\t\t\t\t\t\t\t\t\t<ul ng-if="subNode.nodes">\r\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="path in subNode.nodes">\r\n\t\t\t\t\t\t\t\t\t\t\t<a>{{path.name | translate}}<\/a>\r\n\t\t\t\t\t\t\t\t\t\t<\/li>\r\n\t\t\t\t\t\t\t\t\t<\/ul>\r\n\t\t\t\t\t\t\t\t\t<ul ng-if="!subNode.nodes">\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a>{{subNode.name | translate}}<\/a>\r\n\t\t\t\t\t\t\t\t\t\t<\/li>\r\n\t\t\t\t\t\t\t\t\t<\/ul>\r\n\t\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<\/li>\r\n\t\t\t\t<\/ul>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="menu-util span4">\r\n\t\t\t\t<ul class="row-fluid">\r\n\t\t\t\t\t<li class="span7">\r\n\t\t\t\t\t\t<div class="org-switcher-off" ng-hide="session.other_organizations.length">\r\n\t\t\t\t\t\t\t<span class="ng-binding">Krux Demo Client<\/span>\r\n\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<\/li>\r\n\t\t\t\t\t<li class="span5 account-util dropdown">\r\n\t\t\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="">\r\n\t\t\t\t\t\t\t<i class="icon-user"><\/i> krux-user\r\n\t\t\t\t\t\t\t<b class="caret"><\/b>\r\n\t\t\t\t\t\t<\/a>\r\n\t\t\t\t\t\t<ul class="account-util-menu" role="menu" aria-labelledby="dLabel">\r\n\t\t\t\t\t\t\t<li><a href="">{{"Account" | translate}}<\/a><\/li>\r\n\t\t\t\t\t\t\t<li><a href="">{{"Logout" | translate}}<\/a><\/li>\r\n\t\t\t\t\t\t<\/ul>\r\n\t\t\t\t\t<\/li>\r\n\t\t\t\t<\/ul>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/nav>');n.put("/src/app/templates/directive-templates/loading.html",'<div class="loading" ng-style="ctrl.element">\r\n\t<div class="loading-disabled" ng-style="ctrl.disabled">\r\n\t<\/div>\r\n\t<div class="spinner">\r\n\t\t<div class="spinner-container container1">\r\n\t\t\t<div class="circle1"><\/div>\r\n\t\t\t<div class="circle2"><\/div>\r\n\t\t\t<div class="circle3"><\/div>\r\n\t\t\t<div class="circle4"><\/div>\r\n\t\t<\/div>\r\n\t\t<div class="spinner-container container2">\r\n\t\t\t<div class="circle1"><\/div>\r\n\t\t\t<div class="circle2"><\/div>\r\n\t\t\t<div class="circle3"><\/div>\r\n\t\t\t<div class="circle4"><\/div>\r\n\t\t<\/div>\r\n\t\t<div class="spinner-container container3">\r\n\t\t\t<div class="circle1"><\/div>\r\n\t\t\t<div class="circle2"><\/div>\r\n\t\t\t<div class="circle3"><\/div>\r\n\t\t\t<div class="circle4"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/modal.html",'<div class="modal" ng-class="modal" ng-if="isModal">\r\n\t<div class="fade" ng-style="fade">\r\n\t<\/div>\r\n\t<div class="dialog">\r\n\t\t<div ng-include="bodyTemplateUrl" ng-if="!bodyTemplate" onload="onInclude()">\r\n\t\t<\/div>\r\n\t\t<div ng-if="bodyTemplate" gr-template="bodyTemplate" gr-name="editEntityTemplate">\r\n\t\t<\/div>\r\n\t\t<div class="dialog-btn">\r\n\t\t\t<button class="save-btn" ng-if="enableSave" ng-click="save()">{{::\'save\' | translate}}<\/button>\r\n\t\t\t<button class="close-btn" ng-click="close()">{{::\'close\' | translate}}<\/button>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/mouse-over.html",'<div class="mouse-over" ng-style="style">\r\n\t<div class="mouse-over-simple" ng-if="type.isSimple">\r\n\t\t<div class="mouse-over-simple__header">\r\n\t\t\t<span class="mouse-over-simple__header__text">{{value.header | translate}}<\/span>\r\n\t\t<\/div>\r\n\t\t<div class="mouse-over-simple__body">\r\n\t\t\t<div ng-repeat="val in value.data" class="mouse-over-simple__body__value">\r\n\t\t\t\t<span class="mouse-over-simple__body__value__text">{{::\'Campaing ID\' | translate}}: {{val.campaignId}}<\/span>\r\n\t\t\t\t<span class="mouse-over-simple__body__value__text">{{::\'Ad ID\' | translate}}: {{val.adId}}<\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="mouse-over-medium" ng-if="type.isMedium">\r\n\t\t<div class="mouse-over-medium__header">\r\n\t\t\t<span class="mouse-over-simple__medium__text">{{value.header | translate}}<\/span>\r\n\t\t<\/div>\r\n\t\t<div class="mouse-over-medium__body">\r\n\t\t\t<div class="mouse-over-medium__body__blockSegm" ng-style="{float: \'left\'}">\r\n\t\t\t\t<span class="mouse-over-medium__body__header">\r\n\t\t\t\t\t{{:: \'topSegments\' | translate}}\r\n\t\t\t\t<\/span>\r\n\t\t\t\t<div ng-repeat="prop in value.data.topSegments">\r\n\t\t\t\t\t<span class="mouse-over-medium__body__value__text">{{prop | translate}}<\/span>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="mouse-over-medium__body__blockCampaing" ng-style="{float: \'right\'}">\r\n\t\t\t\t<span class="mouse-over-medium__body__header">\r\n\t\t\t\t\t{{:: \'topCampaigns\' | translate}}\r\n\t\t\t\t<\/span>\r\n\t\t\t\t<div ng-repeat="prop in value.data.topCampaings">\r\n\t\t\t\t\t<span class="mouse-over-medium__body__value__text">{{prop | translate}}<\/span>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="mouse-over-custom" ng-if="type.isCustom">\r\n\t\t<div ng-if="type.templateUrl" ng-include="type.templateUrl">\r\n\t\t<\/div>\r\n\t\t<div ng-if="!type.templateUrl" gr-template="type.template" gr-name="mouseOverTemplate"><\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/overlay.html",'<div class="custom-overlay" ng-style="style">\r\n\t<div class="custom-overlay__toggle">\r\n\t\t<span ng-click="state = !state" ng-show="!state" class="glyphicon glyphicon-chevron-left"><\/span>\r\n\t\t<span ng-click="state = !state" ng-show="state" class="glyphicon glyphicon-chevron-right"><\/span>\r\n\t<\/div>\r\n\t<ng-transclude class="custom-overlay__transclude" ng-style="transcludeStyle"><\/ng-transclude>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/page-content-cards.html",'<div class="page-content">\r\n\t<div class="page-content__header">\r\n\t\t<div class="page-content__options">\r\n\t\t\t<content-options-cards options="contentOptions"><\/content-options-cards>\r\n\t\t<\/div>\r\n\t\t<div class="page-content__actions">\r\n\t\t\t<div class="page-content__actions__export" dropdown="exports.options"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="page-content__body">\r\n\t\t<div class="page-content__cards" content-options="contentOptions" cards="cardsOptions">\r\n\t\t<\/div>\r\n\t\t<div class="page-content__list">\r\n\t\t\t<div custom-ui-grid grid-data="data" grid-options="uiGridOptions" content-options="contentOptions"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="page-content__footer">\r\n\t<\/div>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/directive-templates/page-content-d3.html",'<div class="page-content">\r\n\t<div class="page-content__header">\r\n\t\t<div class="page-content__options">\r\n\t\t\t<div content-options-d3 options="contentOptions" filters="filters"><\/div>\r\n\t\t<\/div>\r\n\t\t<div class="page-content__cards" cards="cardsOptions" content-options="contentOptions">\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="page-content__body">\r\n\t\t<div class="page-content__list">\r\n\t\t\t<div class="core-diagram" core-diagram="{}" sankey-data="sankeyData"><\/div>\r\n\t\t\t<div overlay>\r\n\t\t\t\t<div class="histogram-content" histogram histogram-data="histogramData"><\/div>\r\n\t\t\t<\/div>\r\n\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/directive-templates/page-content.html",'<div class="page-content">\r\n\t<div class="page-content__header">\r\n\t\t<div class="page-content__icon">\r\n\t\t\t<span class="page-content__icon__text icon-text2"><\/span>\r\n\t\t<\/div>\r\n\t\t<div class="page-content__name">\r\n\t\t\t{{grid.name | translate}}\r\n\t\t<\/div>\r\n\t\t<div class="page-content__count">\r\n\t\t\t{{grid.count}} {{::\'records\' | translate}}\r\n\t\t<\/div>\r\n\t\t<div class="page-content__actions">\r\n\t\t\t<div class="page-content__actions__export" dropdown="exports.options"><\/div>\r\n\t\t\t<div class="page-content__actions__view" dropdown="views.options"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="page-content__body">\r\n\t\t<div class="page-content__options">\r\n\t\t\t<content-options options="contentOptions"><\/content-options>\r\n\t\t<\/div>\r\n\t\t<div class="page-content__list">\r\n\t\t\t<div custom-grid grid-data="data" export-to="exports.options.selected" ng-show="views.options.selected.isGrid" grid-options="gridOptions"><\/div>\r\n\t\t\t<div custom-ui-grid grid-data="data" ng-if="views.options.selected.isUiGrid" grid-options="uiGridOptions" content-options="contentOptions"><\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n\t<div class="page-content__footer">\r\n\t<\/div>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/directive-templates/search.html",'<div class="search">\r\n\t<input type="search" ng-model="searchValue" />\r\n\t<span class="search-span icon-search" ng-show="edited">\r\n\t<\/span>\r\n\t<span class="search-clear icon-close" ng-click="clear()" ng-show="!edited">\r\n\t<\/span>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/directive-templates/split-button.html",'<button class="split-btn" ng-click="close()">\r\n\t<div ng-if="actions.selected">\r\n\t\t<div ng-if="!actions.isComplex">\r\n\t\t\t{{actions.selected.label | translate}}\r\n\t\t<\/div>\r\n\t\t<div ng-if="actions.isComplex">\r\n\t\t\t{{::\'choose\' | translate}} {{actions.selected.label | translate}}\r\n\t\t<\/div>\r\n\t<\/div>\r\n\r\n\t<div ng-if="!actions.selected" style="opacity: 0.5">\r\n\t\t{{typehead | translate}}\r\n\t<\/div>\r\n\t<button class="split-btn__toggle" ng-click="toggle()" ng-class="{\'opened\' : isShow}" any-other-click="isShow=false">\r\n\t\t<span class="expand" ng-class="{\'icon-menu-up\': isShow, \'icon-menu-down\' : !isShow}">\r\n\t\t<\/span>\r\n\t<\/button>\r\n\t<ul class="split-btn__list" ng-show="isShow">\r\n\t\t<li ng-repeat="action in actions" ng-click="select(action)"><a>{{action.label | translate}}<\/a> <\/li>\r\n\t<\/ul>\r\n<\/button>');n.put("/src/app/templates/directive-templates/ui-grid-menu.html",'<div class="ui-grid-menu">\r\n\t<dropdown class="ui-grid-menu__options" dropdown-options="options"><\/dropdown>\r\n<\/div>\r\n');n.put("/src/app/templates/directive-templates/upload.html",'<label>\r\n\t<input type="file" />\r\n\t<span ng-if="!label">{{::\'upload\' | translate}}<\/span>\r\n\t<span ng-if="label">{{label | translate}}<\/span>\r\n<\/label>\r\n');n.put("/src/app/templates/grid-templates/cell-templates/cell-without-sort.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">\r\n\t<div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">\r\n\t\t{{col.displayName | translate}}\r\n\t<\/div>\r\n\t<div class="ngSortButtonDown" ng-show="col.showSortButtonDown()">\r\n\t<\/div>\r\n\t<div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"><\/div><div class="ngSortPriority">\r\n\t\t{{col.sortPriority | translate}}\r\n\t<\/div>\r\n\t<div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable">\r\n\t<\/div>\r\n<\/div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)">\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/cell.html",'<div class="column" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }" ng-class="{ \'ngSorted\': !noSortVisible }">\r\n\t<div class="column__sort" ng-click="col.sort($event)" ng-style="{\'height\': col.headerRowHeight}">\r\n\t\t<div class="column__name" ng-style="{\'height\': col.headerRowHeight}">\r\n\t\t\t<span class="column__name__span">{{col.displayName | translate}}<\/span>\r\n\t\t\t<div class="column__sort-down" ng-show="col.showSortButtonDown()">\r\n\t\t\t\t<span class="icon-arrow-down"><\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="column__sort-up" ng-show="col.showSortButtonUp()">\r\n\t\t\t\t<span class="icon-arrow-up"><\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/cell-templates/fields/action.html",'<div class="action" ng-if="row.orig.actions.values.isShow" ng-style="dropdownOpt.style">\r\n\t<div class="dynamic-dropdown" dynamic-dropdown orig-opt="row.orig.actions.values.options" dropdown-opt="dropdownOpt" col="col" row="row" re-init="row.orig.actions.values"><\/div>\r\n\t<div class="action__dropdown" dropdown="dropdownOpt" ng-if="dropdownOpt.isVisible"><\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/cell-templates/fields/date.html",'<div class="row-date">\r\n\t<div class="row-date__value wrap">\r\n\t\t{{row.getProperty(col.field) | date}}\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/fields/details.html",'<div class="cell-details">\r\n\t<span class="cell-details__expand" details row="row" details-class="\'toggle\'" ng-class="{\'icon-menu-down\' : !row.orig.actions.isToggle, \'icon-menu-up\': row.orig.actions.isToggle}"><\/span>\r\n\t<div class="cell-details__check">\r\n\t\t<label class="cell-details__input">\r\n\t\t\t<input type="checkbox" ng-model="row.orig.actions.isCheck" ng-change="row.orig.actions.setCheck(row.orig)" />\r\n\t\t\t<span class="cell-details__input__check"><\/span>\r\n\t\t<\/label>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/cell-templates/fields/name.html",'<div class="row-name wrap">\r\n\t<i class="glyphicon glyphicon-picture"><\/i>\r\n\t<div class="row-name__value">\r\n\t\t<span>{{row.getProperty(col.field) | translate}}<\/span>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/fields/status.html",'<div class="row-status">\r\n\t<div class="row-status__value">\r\n\t\t{{row.getProperty(col.field) | translate}}\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/fields/trend.html",'<div class="row-trend wrap">\r\n\t<div class="row-trend__value ">\r\n\t\t{{row.getProperty(col.field) | translate}}\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/fields/type.html",'<div class="row-type">\r\n\t<div class="row-type__value wrap">\r\n\t\t{{row.getProperty(col.field) | translate}}\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/cell-templates/fields/value.html",'<div class="row-value">\r\n\t<div class="row-value__value">\r\n\t\t{{row.getProperty(col.field) | currency}}\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/details-templates/details-example1.html",'<div class="details-template">\r\n\tDefrault template 1\r\n\t<hr />\r\n<\/div>');n.put("/src/app/templates/grid-templates/details-templates/details-example2.html",'<div class="details-template">\r\n\tOther details template\r\n\t<hr />\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/details-templates/details-upload.html",'<div class="details-template">\r\n\tFrom upload template\r\n\t<hr />\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/details-templates/details.html",'<div class="details-template" ng-init="row.actions.tab = row.actions.tab || 2">\r\n\t<ul>\r\n\t\t<li ng-class="{active:row.actions.tab===1}">\r\n\t\t\t<label ng-click="row.actions.tab = 1">Overview<\/label>\r\n\t\t<\/li>\r\n\t\t<li ng-class="{active:row.actions.tab===2}">\r\n\t\t\t<label ng-click="row.actions.tab = 2">Details Information<\/label>\r\n\t\t<\/li>\r\n\t<\/ul>\r\n\t<div class="content">\r\n\t\t<div class="overview" ng-show="row.actions.tab === 1">\r\n\t\t\t<div class="headers">\r\n\t\t\t\t<span class="header-row">Overview:<\/span>\r\n\r\n\t\t\t<\/div>\r\n\t\t\t<div class="props">\r\n\t\t\t\t<span>  Campaign, Refer<\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t\t<div class="details-information" ng-show="row.actions.tab === 2">\r\n\t\t\t<div class="headers">\r\n\t\t\t\t<span class="header-row">Attributes:<\/span>\r\n\t\t\t\t<span class="header-row">Created:<\/span>\r\n\t\t\t\t<span class="header-row">Last Modified:<\/span>\r\n\t\t\t<\/div>\r\n\t\t\t<div class="props">\r\n\t\t\t\t<span>  Campaign, Refer<\/span>\r\n\t\t\t\t<span>  Demo User, 2015-03-03<\/span>\r\n\t\t\t\t<span>  Victoria Rabinovich, 2015-03-03<\/span>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/grid-templates/dynamic-actions.html",'<div ng-repeat="o in dynamicOpt.values" class="dynamic-actions" ng-class="o.label" ng-show="o.isVisible" on-finish-render="ngRepeatFinished">\r\n\t<button class="dynamic-actions__btn" ng-click="dynamicOpt.callback(o)">{{o.label | translate}}<\/button>\r\n<\/div>');n.put("/src/app/templates/grid-templates/grid-footer.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-CONTENT\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n\t<div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n\t\t<div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n\t\t\t<span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}<\/span>\r\n\t\t\t<select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize">\r\n\t\t\t\t<option ng-repeat="size in pagingOptions.pageSizes">{{size}}<\/option>\r\n\t\t\t<\/select>\r\n\t\t<\/div>\r\n\t\t<div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n\t\t\t<button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"><\/div><\/div><\/button>\r\n\t\t\t<button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"><\/div><\/button>\r\n\t\t\t<input class="ngPagerCurrent" min="1" max="{{maxPages()}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage" />\r\n\t\t\t<button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"><\/div><\/button>\r\n\t\t\t<button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"><\/div><\/div><\/button>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/grid-templates/row-templates/header-row.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell" ng-header-cell><\/div>');n.put("/src/app/templates/grid-templates/row-templates/row-with-detalis.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}" row-check="row" ng-click="row.orig.actions.select(row)">\r\n\t<div ng-cell>\r\n\t<\/div>\r\n<\/div>\r\n\r\n');n.put("/src/app/templates/grid-templates/row-templates/row.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell " row-check="row" ng-click="row.orig.actions.select(row)">\r\n\t<div ng-cell>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/ui-grid-templates/cell-templates/action.html",'<div class="action" ng-if="row.isSelected" ng-style="dropdownOpt.style">\r\n\t<div class="dynamic-dropdown" dynamic-dropdown orig-opt="row.actions.options" dropdown-opt="dropdownOpt" col="col" row="row" re-init="row.actions.options"><\/div>\r\n\t<div class="action__dropdown" dropdown="dropdownOpt" ng-if="dropdownOpt.isVisible"><\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/ui-grid-templates/cell-templates/details.html",'<div class="cell-details">\r\n\t<span class="cell-details__expand" ng-click="row.actions.expand(row)" ng-if="grid.options.enableExpandable" ng-class="{\'icon-menu-down\' : !row.isExpanded, \'icon-menu-up\': row.isExpanded}"><\/span>\r\n\t<div class="cell-details__check" ng-if="!row.actions.disableCheck">\r\n\t\t<label class="cell-details__input">\r\n\t\t\t<input type="checkbox" ng-model="row.isCheck" ng-change="row.actions.setCheck(row)" />\r\n\t\t\t<span class="cell-details__input__check"><\/span>\r\n\t\t<\/label>\r\n\t<\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/ui-grid-templates/cell-templates/header.html",'<div ng-class="{ \'sortable\': sortable }">\r\n\t<div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP">\r\n\t\t<span>{{ col.displayName CUSTOM_FILTERS }}<\/span>\r\n\t\t<span ng-if="col.sort.direction" ui-grid-visible="col.sort.direction" ng-class="{ \'icon-arrow-up\': col.sort.direction == asc, \'icon-arrow-down\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\r\n\t\t\t&nbsp;\r\n\t\t<\/span>\r\n\t<\/div>\r\n\t<div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">\r\n\t\t<i class="ui-grid-icon-angle-down">&nbsp;<\/i>\r\n\t<\/div>\r\n\t<div ui-grid-filter><\/div>\r\n<\/div>\r\n');n.put("/src/app/templates/ui-grid-templates/header.html",'<div class="ui-grid-header">\r\n\t<div class="ui-grid-top-panel">\r\n\t\t<div class="ui-grid-header-viewport">\r\n\t\t\t<div class="ui-grid-header-canvas">\r\n\t\t\t\t<div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()">\r\n\t\t\t\t\t<div class="ui-grid-header-cell-row">\r\n\t\t\t\t\t\t<div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"><\/div>\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>');n.put("/src/app/templates/ui-grid-templates/row.html",'<div ng-click="grid.appScope.fnOne(row)"\r\n\t ng-repeat="col in colContainer.renderedColumns track by col.colDef.name"\r\n\t class="ui-grid-cell" ng-class="{\'checked\': row.isCheck, \'expanded\': row.isExpanded, \'selected\': row.isSelected}" ui-grid-cell>\r\n<\/div>')}]);
//# sourceMappingURL=grid.min.js.map
